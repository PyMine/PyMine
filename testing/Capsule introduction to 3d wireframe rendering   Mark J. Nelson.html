<!DOCTYPE html>
<!-- saved from url=(0049)http://www.kmjn.org/notes/3d_rendering_intro.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
     
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="http://www.kmjn.org/notes/style.css">
    <link rel="alternate" type="application/atom+xml" href="http://www.kmjn.org/notes/recent.atom" title="Feed of recent notes">
    <title>Capsule introduction to 3d wireframe rendering | Mark J. Nelson</title>
  <style type="text/css"></style><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Hover_Arrow {position: absolute; width: 15px; height: 11px; cursor: pointer}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; color: #666666}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_Menu_Close {position: absolute; width: 31px; height: 31px; top: -15px; left: -15px}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MathJax_Display {text-align: center; margin: 1em 0em; position: relative; display: block!important; text-indent: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; width: 100%}
.MathJax .merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MathJax .MJX-monospace {font-family: monospace}
.MathJax .MJX-sans-serif {font-family: sans-serif}
#MathJax_Tooltip {background-color: InfoBackground; color: InfoText; border: 1px solid black; box-shadow: 2px 2px 5px #AAAAAA; -webkit-box-shadow: 2px 2px 5px #AAAAAA; -moz-box-shadow: 2px 2px 5px #AAAAAA; -khtml-box-shadow: 2px 2px 5px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true'); padding: 3px 4px; z-index: 401; position: absolute; left: 0; top: 0; width: auto; height: auto; display: none}
.MathJax {display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; padding: 0; margin: 0}
.MathJax img, .MathJax nobr, .MathJax a {border: 0; padding: 0; margin: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; vertical-align: 0; line-height: normal; text-decoration: none}
img.MathJax_strut {border: 0!important; padding: 0!important; margin: 0!important; vertical-align: 0!important}
.MathJax span {display: inline; position: static; border: 0; padding: 0; margin: 0; vertical-align: 0; line-height: normal; text-decoration: none}
.MathJax nobr {white-space: nowrap!important}
.MathJax img {display: inline!important; float: none!important}
.MathJax * {transition: none; -webkit-transition: none; -moz-transition: none; -ms-transition: none; -o-transition: none}
.MathJax_Processing {visibility: hidden; position: fixed; width: 0; height: 0; overflow: hidden}
.MathJax_Processed {display: none!important}
.MathJax_ExBox {display: block!important; overflow: hidden; width: 1px; height: 60ex; min-height: 0; max-height: none}
.MathJax .MathJax_EmBox {display: block!important; overflow: hidden; width: 1px; height: 60em; min-height: 0; max-height: none}
.MathJax .MathJax_HitBox {cursor: text; background: white; opacity: 0; filter: alpha(opacity=0)}
.MathJax .MathJax_HitBox * {filter: none; opacity: 1; background: transparent}
#MathJax_Tooltip * {filter: none; opacity: 1; background: transparent}
@font-face {font-family: MathJax_Blank; src: url('about:blank')}
.MathJax .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>

  <body><div style="visibility: hidden; overflow: hidden; position: absolute; top: 0px; height: 1px; width: auto; padding: 0px; border: 0px; margin: 0px; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal;"><div id="MathJax_Hidden"></div></div><div id="MathJax_Message" style="display: none;"></div>
    <h1>Capsule introduction to 3d wireframe rendering</h1>
    <div id="subtitle">Overview with pseudocode</div>
    <p>
    </p><div id="note">
    
<script type="text/x-mathjax-config;executed=true">
MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
});
</script>
<script type="text/javascript" src="./Capsule introduction to 3d wireframe rendering   Mark J. Nelson_files/MathJax.js">
</script>

<p>
For the course on game engines I teach in the IT University of Copenhagen's <a href="http://www.itu.dk/en/Uddannelser/Study-Programmes/MSc-in-Games">MSc in
Games</a>, one project is to implement a 3d wireframe software renderer,
without using OpenGL or other existing APIs, in order to fully understand
what's going on behind the scenes in 3d rendering.

</p><p>
This document gives a concise overview of the series of mathematical transforms
needed to do that: to take triangles, given by their coordinates in 3d space,
and turn them into a wireframe view on a 2d screen, as seen from a movable
camera. I aim to provide all the details needed to implement a renderer from
scratch, without using existing libraries, while being much more concise than
the lengthy mathematical treatments given in a typical graphics textbook (some
of those are linked at the end of this document, for those wanting further
information).

</p><p>
(I do apologize for the lack of illustrative diagrams, as I haven't had a chance
to make any yet.)

</p><p>
</p><h2>Transformation matrices</h2>

<p>
A geometric transform is simply an operation that moves a point or set of
points: translates them, rotates them about an axis, etc.  Conceptually,
geometric transforms are just applications of trigonometry. We could use
trigonometric formulas directly. For example, if we want to take a point
<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-1-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1" style="width: 4.101em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.332em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.847em 1000.003em 3.179em -0.356em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-2"><span class="mo" id="MathJax-Span-3" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-4" style="font-family: MathJax_Math; font-style: italic;">x</span><span class="mo" id="MathJax-Span-5" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-6" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.156em;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-7" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-8" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.156em;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-9" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.378em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-1">(x,y,z)</script>, and rotate it by <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-2-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-10" style="width: 0.566em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.464em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.693em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-11"><span class="mi" id="MathJax-Span-12" style="font-family: MathJax_Math; font-style: italic;">θ</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.003em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-2">\theta</script> degrees around the <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-13" style="width: 0.669em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-14"><span class="mi" id="MathJax-Span-15" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3">z</script> axis (i.e., rotate
it in its <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-4-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-16" style="width: 0.72em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-17"><span class="mi" id="MathJax-Span-18" style="font-family: MathJax_Math; font-style: italic;">x</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-4">x</script>–<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-19" style="width: 0.72em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-20"><span class="mi" id="MathJax-Span-21" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.309em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5">y</script> plane), the resulting point is located at:

<span class="MathJax_Preview"></span><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-6-Frame"><nobr><span class="math" id="MathJax-Span-22" style="width: 11.222em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.173em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(0.003em 1000.003em 3.947em -0.305em); top: -2.2em; left: 0.003em;"><span class="mrow" id="MathJax-Span-23"><span class="mtable" id="MathJax-Span-24" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 8.814em; height: 0px;"><span style="position: absolute; clip: rect(2.257em 1000.003em 5.996em -0.459em); top: -4.454em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 0.873em; height: 0px;"><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.407em); top: -5.274em; right: 0.003em;"><span class="mtd" id="MathJax-Span-25"><span class="mrow" id="MathJax-Span-26"><span class="msup" id="MathJax-Span-27"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-28" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.566em;"><span class="mo" id="MathJax-Span-29" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.357em -0.459em); top: -3.942em; right: 0.003em;"><span class="mtd" id="MathJax-Span-42"><span class="mrow" id="MathJax-Span-43"><span class="msup" id="MathJax-Span-44"><span style="display: inline-block; position: relative; width: 0.873em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-45" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.617em;"><span class="mo" id="MathJax-Span-46" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.407em); top: -2.61em; right: 0.003em;"><span class="mtd" id="MathJax-Span-59"><span class="mrow" id="MathJax-Span-60"><span class="msup" id="MathJax-Span-61"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-62" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.566em;"><span class="mo" id="MathJax-Span-63" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.46em;"></span></span><span style="position: absolute; clip: rect(2.257em 1000.003em 5.894em -0.202em); top: -4.352em; left: 0.873em;"><span style="display: inline-block; position: relative; width: 7.943em; height: 0px;"><span style="position: absolute; clip: rect(1.898em 1000.003em 3.128em -0.202em); top: -4.045em; left: 0.003em;"><span class="mtd" id="MathJax-Span-30"><span class="mrow" id="MathJax-Span-31"><span class="mo" id="MathJax-Span-32" style="font-family: MathJax_Main; padding-left: 0.207em; padding-right: 0.361em;">=</span><span class="mi" id="MathJax-Span-33" style="font-family: MathJax_Math; font-style: italic;">x</span><span class="mi" id="MathJax-Span-34" style="font-family: MathJax_Main; padding-left: 0.156em;">cos</span><span class="mo" id="MathJax-Span-35"></span><span class="mi" id="MathJax-Span-36" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.156em;">θ</span><span class="mo" id="MathJax-Span-37" style="font-family: MathJax_Main; padding-left: 0.207em;">−</span><span class="mi" id="MathJax-Span-38" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.207em;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-39" style="font-family: MathJax_Main; padding-left: 0.156em;">sin</span><span class="mo" id="MathJax-Span-40"></span><span class="mi" id="MathJax-Span-41" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.156em;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.898em 1000.003em 3.128em -0.202em); top: -2.713em; left: 0.003em;"><span class="mtd" id="MathJax-Span-47"><span class="mrow" id="MathJax-Span-48"><span class="mo" id="MathJax-Span-49" style="font-family: MathJax_Main; padding-left: 0.207em; padding-right: 0.361em;">=</span><span class="mi" id="MathJax-Span-50" style="font-family: MathJax_Math; font-style: italic;">x</span><span class="mi" id="MathJax-Span-51" style="font-family: MathJax_Main; padding-left: 0.156em;">sin</span><span class="mo" id="MathJax-Span-52"></span><span class="mi" id="MathJax-Span-53" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.156em;">θ</span><span class="mo" id="MathJax-Span-54" style="font-family: MathJax_Main; padding-left: 0.207em;">+</span><span class="mi" id="MathJax-Span-55" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.207em;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-56" style="font-family: MathJax_Main; padding-left: 0.156em;">cos</span><span class="mo" id="MathJax-Span-57"></span><span class="mi" id="MathJax-Span-58" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.156em;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(2.154em 1000.003em 2.923em -0.202em); top: -1.381em; left: 0.003em;"><span class="mtd" id="MathJax-Span-64"><span class="mrow" id="MathJax-Span-65"><span class="mo" id="MathJax-Span-66" style="font-family: MathJax_Main; padding-left: 0.207em; padding-right: 0.361em;">=</span><span class="mi" id="MathJax-Span-67" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.357em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 4.566em; vertical-align: -1.997em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-6">\begin{align*}
x' &= x \cos \theta - y \sin \theta\\
y' &= x \sin \theta + y \cos \theta\\
z' &= z
\end{align*}</script>

</p><p>
It's convenient to represent these in matrix form, however, because then they
can be easily stored and chained. In addition, chains of transforms can be
accumulated into a single precomputed matrix for future use: multiplying two
transform matrices gives a new matrix that applies <i>both</i> of the original
transforms.

</p><p>
There are two conventions for matrix-based transforms: we can represent our
point as a <i>row vector</i>, or as a <i>column vector</i>. Either way results
in a transform identical to the direct trigonometric formulas above.

</p><p>
With row vectors:

<span class="MathJax_Preview"></span><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-7-Frame"><nobr><span class="math" id="MathJax-Span-68" style="width: 25.873em; display: inline-block;"><span style="display: inline-block; position: relative; width: 21.212em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(2.359em 1000.003em 6.457em -0.254em); top: -4.659em; left: 0.003em;"><span class="mrow" id="MathJax-Span-69"><span class="mrow" id="MathJax-Span-70"><span class="mo" id="MathJax-Span-71" style="vertical-align: 0.003em;"><span style="font-family: MathJax_Size1;">[</span></span><span class="mtable" id="MathJax-Span-72" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 4.562em; height: 0px;"><span style="position: absolute; clip: rect(3.076em 1000.003em 4.203em -0.407em); top: -3.993em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.407em); top: -3.942em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-73"><span class="mrow" id="MathJax-Span-74"><span class="msup" id="MathJax-Span-75"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-76" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.566em;"><span class="mo" id="MathJax-Span-77" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.076em 1000.003em 4.408em -0.459em); top: -3.993em; left: 1.847em;"><span style="display: inline-block; position: relative; width: 0.873em; height: 0px;"><span style="position: absolute; clip: rect(3.025em 1000.003em 4.357em -0.459em); top: -3.942em; left: 50%; margin-left: -0.459em;"><span class="mtd" id="MathJax-Span-78"><span class="mrow" id="MathJax-Span-79"><span class="msup" id="MathJax-Span-80"><span style="display: inline-block; position: relative; width: 0.873em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-81" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.617em;"><span class="mo" id="MathJax-Span-82" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.076em 1000.003em 4.203em -0.407em); top: -3.993em; left: 3.742em;"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.407em); top: -3.942em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-83"><span class="mrow" id="MathJax-Span-84"><span class="msup" id="MathJax-Span-85"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-86" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.566em;"><span class="mo" id="MathJax-Span-87" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mo" id="MathJax-Span-88" style="vertical-align: 0.003em;"><span style="font-family: MathJax_Size1;">]</span></span></span><span class="mo" id="MathJax-Span-89" style="font-family: MathJax_Main; padding-left: 0.259em;">=</span><span class="mrow" id="MathJax-Span-90" style="padding-left: 0.259em;"><span class="mo" id="MathJax-Span-91" style="padding-left: 0.259em;"><span style="font-family: MathJax_Main;">[</span></span><span class="mtable" id="MathJax-Span-92" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 3.64em; height: 0px;"><span style="position: absolute; clip: rect(3.435em 1000.003em 4.203em -0.407em); top: -3.993em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.508em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-93"><span class="mrow" id="MathJax-Span-94"><span class="mi" id="MathJax-Span-95" style="font-family: MathJax_Math; font-style: italic;">x</span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.435em 1000.003em 4.408em -0.459em); top: -3.993em; left: 1.591em;"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.508em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-96"><span class="mrow" id="MathJax-Span-97"><span class="mi" id="MathJax-Span-98" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.435em 1000.003em 4.203em -0.407em); top: -3.993em; left: 3.128em;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.508em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-99"><span class="mrow" id="MathJax-Span-100"><span class="mi" id="MathJax-Span-101" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mo" id="MathJax-Span-102" style=""><span style="font-family: MathJax_Main;">]</span></span></span><span class="mrow" id="MathJax-Span-103" style="padding-left: 0.156em;"><span class="mo" id="MathJax-Span-104" style="vertical-align: 2.154em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -0.817em; left: 0.003em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.79em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mtable" id="MathJax-Span-105" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 7.38em; height: 0px;"><span style="position: absolute; clip: rect(2.308em 1000.003em 6.15em -0.407em); top: -4.506em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 2.871em; height: 0px;"><span style="position: absolute; clip: rect(1.898em 1000.003em 2.923em -0.407em); top: -4.096em; left: 50%; margin-left: -0.971em;"><span class="mtd" id="MathJax-Span-106"><span class="mrow" id="MathJax-Span-107"><span class="mi" id="MathJax-Span-108" style="font-family: MathJax_Main;">cos</span><span class="mo" id="MathJax-Span-109"></span><span class="mi" id="MathJax-Span-110" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.156em;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.898em 1000.003em 2.923em -0.356em); top: -2.713em; left: 50%; margin-left: -1.432em;"><span class="mtd" id="MathJax-Span-119"><span class="mrow" id="MathJax-Span-120"><span class="mo" id="MathJax-Span-121" style="font-family: MathJax_Main;">−</span><span class="mi" id="MathJax-Span-122" style="font-family: MathJax_Main; padding-left: 0.156em;">sin</span><span class="mo" id="MathJax-Span-123"></span><span class="mi" id="MathJax-Span-124" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.156em;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -1.329em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-133"><span class="mrow" id="MathJax-Span-134"><span class="mn" id="MathJax-Span-135" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.511em;"></span></span><span style="position: absolute; clip: rect(2.308em 1000.003em 6.15em -0.407em); top: -4.506em; left: 3.896em;"><span style="display: inline-block; position: relative; width: 2.001em; height: 0px;"><span style="position: absolute; clip: rect(1.898em 1000.003em 2.923em -0.407em); top: -4.096em; left: 50%; margin-left: -0.92em;"><span class="mtd" id="MathJax-Span-111"><span class="mrow" id="MathJax-Span-112"><span class="mi" id="MathJax-Span-113" style="font-family: MathJax_Main;">sin</span><span class="mo" id="MathJax-Span-114"></span><span class="mi" id="MathJax-Span-115" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.156em;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.898em 1000.003em 2.923em -0.407em); top: -2.713em; left: 50%; margin-left: -0.971em;"><span class="mtd" id="MathJax-Span-125"><span class="mrow" id="MathJax-Span-126"><span class="mi" id="MathJax-Span-127" style="font-family: MathJax_Main;">cos</span><span class="mo" id="MathJax-Span-128"></span><span class="mi" id="MathJax-Span-129" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.156em;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -1.329em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-136"><span class="mrow" id="MathJax-Span-137"><span class="mn" id="MathJax-Span-138" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.511em;"></span></span><span style="position: absolute; clip: rect(2.308em 1000.003em 6.048em -0.407em); top: -4.454em; left: 6.867em;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -4.096em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-116"><span class="mrow" id="MathJax-Span-117"><span class="mn" id="MathJax-Span-118" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -2.713em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-130"><span class="mrow" id="MathJax-Span-131"><span class="mn" id="MathJax-Span-132" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.356em); top: -1.329em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-139"><span class="mrow" id="MathJax-Span-140"><span class="mn" id="MathJax-Span-141" style="font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.46em;"></span></span></span></span><span class="mo" id="MathJax-Span-142" style="vertical-align: 2.154em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -0.817em; left: 0.003em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.79em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.664em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 4.753em; vertical-align: -2.059em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-7">\begin{equation*}
\begin{bmatrix}x' & y' & z'\end{bmatrix} = \begin{bmatrix}x & y & z\end{bmatrix}
\begin{bmatrix}
  \cos \theta & \sin \theta & 0 \\
  -\sin \theta & \cos \theta & 0 \\
  0 & 0 & 1
\end{bmatrix}
\end{equation*}</script>

</p><p>
With column vectors:

<span class="MathJax_Preview"></span><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-8-Frame"><nobr><span class="math" id="MathJax-Span-143" style="width: 19.162em; display: inline-block;"><span style="display: inline-block; position: relative; width: 15.679em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(2.308em 1000.003em 6.457em -0.459em); top: -4.608em; left: 0.003em;"><span class="mrow" id="MathJax-Span-144"><span class="mrow" id="MathJax-Span-145"><span class="mo" id="MathJax-Span-146" style="vertical-align: 2.154em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -0.817em; left: 0.003em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.79em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mtable" id="MathJax-Span-147" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.873em; height: 0px;"><span style="position: absolute; clip: rect(2.359em 1000.003em 6.304em -0.459em); top: -4.659em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 0.873em; height: 0px;"><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.407em); top: -5.325em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-148"><span class="mrow" id="MathJax-Span-149"><span class="msup" id="MathJax-Span-150"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-151" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.566em;"><span class="mo" id="MathJax-Span-152" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.357em -0.459em); top: -3.942em; left: 50%; margin-left: -0.459em;"><span class="mtd" id="MathJax-Span-153"><span class="mrow" id="MathJax-Span-154"><span class="msup" id="MathJax-Span-155"><span style="display: inline-block; position: relative; width: 0.873em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-156" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.617em;"><span class="mo" id="MathJax-Span-157" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.407em); top: -2.508em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-158"><span class="mrow" id="MathJax-Span-159"><span class="msup" id="MathJax-Span-160"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-161" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.566em;"><span class="mo" id="MathJax-Span-162" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.664em;"></span></span></span></span><span class="mo" id="MathJax-Span-163" style="vertical-align: 2.154em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -0.817em; left: 0.003em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.79em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span><span class="mo" id="MathJax-Span-164" style="font-family: MathJax_Main; padding-left: 0.259em;">=</span><span class="mrow" id="MathJax-Span-165" style="padding-left: 0.259em;"><span class="mo" id="MathJax-Span-166" style="vertical-align: 2.154em; padding-left: 0.259em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -0.817em; left: 0.003em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.79em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mtable" id="MathJax-Span-167" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 7.38em; height: 0px;"><span style="position: absolute; clip: rect(2.308em 1000.003em 6.15em -0.407em); top: -4.506em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 2.001em; height: 0px;"><span style="position: absolute; clip: rect(1.898em 1000.003em 2.923em -0.407em); top: -4.096em; left: 50%; margin-left: -0.971em;"><span class="mtd" id="MathJax-Span-168"><span class="mrow" id="MathJax-Span-169"><span class="mi" id="MathJax-Span-170" style="font-family: MathJax_Main;">cos</span><span class="mo" id="MathJax-Span-171"></span><span class="mi" id="MathJax-Span-172" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.156em;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.898em 1000.003em 2.923em -0.407em); top: -2.713em; left: 50%; margin-left: -0.92em;"><span class="mtd" id="MathJax-Span-182"><span class="mrow" id="MathJax-Span-183"><span class="mi" id="MathJax-Span-184" style="font-family: MathJax_Main;">sin</span><span class="mo" id="MathJax-Span-185"></span><span class="mi" id="MathJax-Span-186" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.156em;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -1.329em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-195"><span class="mrow" id="MathJax-Span-196"><span class="mn" id="MathJax-Span-197" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.511em;"></span></span><span style="position: absolute; clip: rect(2.308em 1000.003em 6.15em -0.407em); top: -4.506em; left: 3.025em;"><span style="display: inline-block; position: relative; width: 2.871em; height: 0px;"><span style="position: absolute; clip: rect(1.898em 1000.003em 2.923em -0.356em); top: -4.096em; left: 50%; margin-left: -1.432em;"><span class="mtd" id="MathJax-Span-173"><span class="mrow" id="MathJax-Span-174"><span class="mo" id="MathJax-Span-175" style="font-family: MathJax_Main;">−</span><span class="mi" id="MathJax-Span-176" style="font-family: MathJax_Main; padding-left: 0.156em;">sin</span><span class="mo" id="MathJax-Span-177"></span><span class="mi" id="MathJax-Span-178" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.156em;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.898em 1000.003em 2.923em -0.407em); top: -2.713em; left: 50%; margin-left: -0.971em;"><span class="mtd" id="MathJax-Span-187"><span class="mrow" id="MathJax-Span-188"><span class="mi" id="MathJax-Span-189" style="font-family: MathJax_Main;">cos</span><span class="mo" id="MathJax-Span-190"></span><span class="mi" id="MathJax-Span-191" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.156em;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -1.329em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-198"><span class="mrow" id="MathJax-Span-199"><span class="mn" id="MathJax-Span-200" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.511em;"></span></span><span style="position: absolute; clip: rect(2.308em 1000.003em 6.048em -0.407em); top: -4.454em; left: 6.867em;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -4.096em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-179"><span class="mrow" id="MathJax-Span-180"><span class="mn" id="MathJax-Span-181" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -2.713em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-192"><span class="mrow" id="MathJax-Span-193"><span class="mn" id="MathJax-Span-194" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.356em); top: -1.329em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-201"><span class="mrow" id="MathJax-Span-202"><span class="mn" id="MathJax-Span-203" style="font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.46em;"></span></span></span></span><span class="mo" id="MathJax-Span-204" style="vertical-align: 2.154em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -0.817em; left: 0.003em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.79em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span><span class="mrow" id="MathJax-Span-205" style="padding-left: 0.156em;"><span class="mo" id="MathJax-Span-206" style="vertical-align: 2.154em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -0.817em; left: 0.003em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.79em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mtable" id="MathJax-Span-207" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px;"><span style="position: absolute; clip: rect(2.308em 1000.003em 5.894em -0.459em); top: -4.249em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -3.891em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-208"><span class="mrow" id="MathJax-Span-209"><span class="mi" id="MathJax-Span-210" style="font-family: MathJax_Math; font-style: italic;">x</span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.508em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-211"><span class="mrow" id="MathJax-Span-212"><span class="mi" id="MathJax-Span-213" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -1.124em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-214"><span class="mrow" id="MathJax-Span-215"><span class="mi" id="MathJax-Span-216" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.255em;"></span></span></span></span><span class="mo" id="MathJax-Span-217" style="vertical-align: 2.154em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -0.817em; left: 0.003em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.79em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.613em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 4.816em; vertical-align: -2.122em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-8">\begin{equation*}
\begin{bmatrix}x' \\ y' \\ z'\end{bmatrix} =
\begin{bmatrix}
  \cos \theta & -\sin \theta & 0 \\
  \sin \theta & \cos \theta & 0 \\
  0 & 0 & 1
\end{bmatrix}
\begin{bmatrix}x \\ y \\ z\end{bmatrix}
\end{equation*}</script>

</p><p>
If you multiply them out, you can verify that both forms are equivalent to the
three equations at the top. The transformation matrix for a column vector is
the transpose of the transformation matrix for a row vector (and vice versa).
Which convention you choose is arbitrary, but make sure you use the right
transformation matrices for the convention you're using! In this document,
we'll use the column-vector convention.

</p><p>
The choice of convention also impacts the direction of chaining. As can be seen
above, the transformation matrix for row vectors is multiplied on the right,
and in general chains towards the right. For column vectors, the transformation
matrix is multiplied on the left, and transforms chain towards the
left. This can be important to remember when order of application
makes a difference.

</p><p>
</p><h2>Affine transforms</h2>

<p>
A number of 3d transforms can be represented as <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-9-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-218" style="width: 2.769em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.257em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-219"><span class="mn" id="MathJax-Span-220" style="font-family: MathJax_Main;">3</span><span class="mo" id="MathJax-Span-221" style="font-family: MathJax_Main; padding-left: 0.207em;">×</span><span class="mn" id="MathJax-Span-222" style="font-family: MathJax_Main; padding-left: 0.207em;">3</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-9">3 \times 3</script> matrices like the
rotation example given in the previous section. These are called the
<i>linear</i> transforms (in the same sense as <i>linear algebra</i>). In
computer graphics, these almost cover the common space of transforms, with one
important one missing: translation, when we simply move a point by an offset.
The set of linear transforms, plus translation, is called the <i>affine
transforms</i>.

</p><p>
In equation form, translation of a point <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-10-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-223" style="width: 4.101em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.332em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.847em 1000.003em 3.179em -0.356em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-224"><span class="mo" id="MathJax-Span-225" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-226" style="font-family: MathJax_Math; font-style: italic;">x</span><span class="mo" id="MathJax-Span-227" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-228" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.156em;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-229" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-230" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.156em;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-231" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.378em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-10">(x,y,z)</script> by an offset <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-11-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-232" style="width: 5.228em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.255em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.847em 1000.003em 3.23em -0.356em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-233"><span class="mo" id="MathJax-Span-234" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-235"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.796em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-236" style="font-family: MathJax_Math; font-style: italic;">t</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.361em;"><span class="mi" id="MathJax-Span-237" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span><span class="mo" id="MathJax-Span-238" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-239" style="padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.796em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-240" style="font-family: MathJax_Math; font-style: italic;">t</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.361em;"><span class="mi" id="MathJax-Span-241" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span><span class="mo" id="MathJax-Span-242" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-243" style="padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.796em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-244" style="font-family: MathJax_Math; font-style: italic;">t</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.361em;"><span class="mi" id="MathJax-Span-245" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span><span class="mo" id="MathJax-Span-246" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.378em; vertical-align: -0.434em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-11">(t_x,t_y,t_z)</script>
produces a new point:

<span class="MathJax_Preview"></span><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-12-Frame"><nobr><span class="math" id="MathJax-Span-247" style="width: 6.457em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.279em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(-0.049em 1000.003em 3.947em -0.305em); top: -2.2em; left: 0.003em;"><span class="mrow" id="MathJax-Span-248"><span class="mtable" id="MathJax-Span-249" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 4.921em; height: 0px;"><span style="position: absolute; clip: rect(2.257em 1000.003em 6.099em -0.459em); top: -4.506em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 0.873em; height: 0px;"><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.407em); top: -5.274em; right: 0.003em;"><span class="mtd" id="MathJax-Span-250"><span class="mrow" id="MathJax-Span-251"><span class="msup" id="MathJax-Span-252"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-253" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.566em;"><span class="mo" id="MathJax-Span-254" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.357em -0.459em); top: -3.993em; right: 0.003em;"><span class="mtd" id="MathJax-Span-263"><span class="mrow" id="MathJax-Span-264"><span class="msup" id="MathJax-Span-265"><span style="display: inline-block; position: relative; width: 0.873em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-266" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.617em;"><span class="mo" id="MathJax-Span-267" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.407em); top: -2.559em; right: 0.003em;"><span class="mtd" id="MathJax-Span-276"><span class="mrow" id="MathJax-Span-277"><span class="msup" id="MathJax-Span-278"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-279" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.566em;"><span class="mo" id="MathJax-Span-280" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.511em;"></span></span><span style="position: absolute; clip: rect(2.41em 1000.003em 6.253em -0.202em); top: -4.506em; left: 0.873em;"><span style="display: inline-block; position: relative; width: 4.05em; height: 0px;"><span style="position: absolute; clip: rect(2.001em 1000.003em 3.076em -0.202em); top: -4.045em; left: 0.003em;"><span class="mtd" id="MathJax-Span-255"><span class="mrow" id="MathJax-Span-256"><span class="mo" id="MathJax-Span-257" style="font-family: MathJax_Main; padding-left: 0.207em; padding-right: 0.361em;">=</span><span class="mi" id="MathJax-Span-258" style="font-family: MathJax_Math; font-style: italic;">x</span><span class="mo" id="MathJax-Span-259" style="font-family: MathJax_Main; padding-left: 0.207em;">+</span><span class="msubsup" id="MathJax-Span-260" style="padding-left: 0.207em;"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.796em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-261" style="font-family: MathJax_Math; font-style: italic;">t</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.361em;"><span class="mi" id="MathJax-Span-262" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(2.001em 1000.003em 3.23em -0.202em); top: -2.764em; left: 0.003em;"><span class="mtd" id="MathJax-Span-268"><span class="mrow" id="MathJax-Span-269"><span class="mo" id="MathJax-Span-270" style="font-family: MathJax_Main; padding-left: 0.207em; padding-right: 0.361em;">=</span><span class="mi" id="MathJax-Span-271" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-272" style="font-family: MathJax_Main; padding-left: 0.207em;">+</span><span class="msubsup" id="MathJax-Span-273" style="padding-left: 0.207em;"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.796em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-274" style="font-family: MathJax_Math; font-style: italic;">t</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.361em;"><span class="mi" id="MathJax-Span-275" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(2.001em 1000.003em 3.076em -0.202em); top: -1.329em; left: 0.003em;"><span class="mtd" id="MathJax-Span-281"><span class="mrow" id="MathJax-Span-282"><span class="mo" id="MathJax-Span-283" style="font-family: MathJax_Main; padding-left: 0.207em; padding-right: 0.361em;">=</span><span class="mi" id="MathJax-Span-284" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-285" style="font-family: MathJax_Main; padding-left: 0.207em;">+</span><span class="msubsup" id="MathJax-Span-286" style="padding-left: 0.207em;"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.796em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-287" style="font-family: MathJax_Math; font-style: italic;">t</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.361em;"><span class="mi" id="MathJax-Span-288" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.511em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 4.691em; vertical-align: -1.997em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-12">\begin{align*}
x' &= x + t_x\\
y' &= y + t_y\\
z' &= z + t_z
\end{align*}</script>

</p><p>
You can verify that there's no way to write a <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-13-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-289" style="width: 2.769em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.257em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-290"><span class="mn" id="MathJax-Span-291" style="font-family: MathJax_Main;">3</span><span class="mo" id="MathJax-Span-292" style="font-family: MathJax_Main; padding-left: 0.207em;">×</span><span class="mn" id="MathJax-Span-293" style="font-family: MathJax_Main; padding-left: 0.207em;">3</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-13">3 \times 3</script> transformation
matrix that is equivalent to those equations. We would <i>really</i> like to be
able to encode all affine transforms in transformation matrices, however, so
that we have a uniform representation for transforms.

</p><p>
The solution is to work in an augmented space called <i>homogeneous
coordinates</i>. We augment our points to 4 dimensions, by adding a "dummy"
coordinate, <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-14-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-294" style="width: 0.873em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.72em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-295"><span class="mi" id="MathJax-Span-296" style="font-family: MathJax_Math; font-style: italic;">w</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-14">w</script>; for our purposes, this is always normalized to 1. These new
4-dimensional points therefore have <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-15-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-297" style="width: 2.769em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.257em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-298"><span class="mn" id="MathJax-Span-299" style="font-family: MathJax_Main;">4</span><span class="mo" id="MathJax-Span-300" style="font-family: MathJax_Main; padding-left: 0.207em;">×</span><span class="mn" id="MathJax-Span-301" style="font-family: MathJax_Main; padding-left: 0.207em;">4</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-15">4 \times 4</script> transformation matrices
instead of <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-16-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-302" style="width: 2.769em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.257em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-303"><span class="mn" id="MathJax-Span-304" style="font-family: MathJax_Main;">3</span><span class="mo" id="MathJax-Span-305" style="font-family: MathJax_Main; padding-left: 0.207em;">×</span><span class="mn" id="MathJax-Span-306" style="font-family: MathJax_Main; padding-left: 0.207em;">3</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-16">3 \times 3</script> ones. In this augmeted space, it turns out that it's
possible to encode some kinds of transforms of 3-dimensional points which
aren't possible to encode directly in 3d vectors with <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-17-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-307" style="width: 2.769em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.257em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-308"><span class="mn" id="MathJax-Span-309" style="font-family: MathJax_Main;">3</span><span class="mo" id="MathJax-Span-310" style="font-family: MathJax_Main; padding-left: 0.207em;">×</span><span class="mn" id="MathJax-Span-311" style="font-family: MathJax_Main; padding-left: 0.207em;">3</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-17">3 \times 3</script>
transformation matrices.

</p><p>
Translation can now be defined:

<span class="MathJax_Preview"></span><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-18-Frame"><nobr><span class="math" id="MathJax-Span-312" style="width: 17.011em; display: inline-block;"><span style="display: inline-block; position: relative; width: 13.937em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(2.308em 1000.003em 7.943em -0.459em); top: -5.377em; left: 0.003em;"><span class="mrow" id="MathJax-Span-313"><span class="mrow" id="MathJax-Span-314"><span class="mo" id="MathJax-Span-315" style="vertical-align: 2.871em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.617em; left: 0.003em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.51em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mtable" id="MathJax-Span-316" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(3.025em 1000.003em 8.404em -0.459em); top: -6.043em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.407em); top: -6.043em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-317"><span class="mrow" id="MathJax-Span-318"><span class="msup" id="MathJax-Span-319"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-320" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.566em;"><span class="mo" id="MathJax-Span-321" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.357em -0.459em); top: -4.659em; left: 50%; margin-left: -0.459em;"><span class="mtd" id="MathJax-Span-322"><span class="mrow" id="MathJax-Span-323"><span class="msup" id="MathJax-Span-324"><span style="display: inline-block; position: relative; width: 0.873em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-325" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.617em;"><span class="mo" id="MathJax-Span-326" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.407em); top: -3.225em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-327"><span class="mrow" id="MathJax-Span-328"><span class="msup" id="MathJax-Span-329"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-330" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.566em;"><span class="mo" id="MathJax-Span-331" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.459em); top: -1.842em; left: 50%; margin-left: -0.51em;"><span class="mtd" id="MathJax-Span-332"><span class="mrow" id="MathJax-Span-333"><span class="msup" id="MathJax-Span-334"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-335" style="font-family: MathJax_Math; font-style: italic;">w</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.72em;"><span class="mo" id="MathJax-Span-336" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span><span style="display: inline-block; width: 0px; height: 6.048em;"></span></span></span></span><span class="mo" id="MathJax-Span-337" style="vertical-align: 2.871em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.617em; left: 0.003em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.51em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span><span class="mo" id="MathJax-Span-338" style="font-family: MathJax_Main; padding-left: 0.259em;">=</span><span class="mrow" id="MathJax-Span-339" style="padding-left: 0.259em;"><span class="mo" id="MathJax-Span-340" style="vertical-align: 2.923em; padding-left: 0.259em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.669em; left: 0.003em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.739em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.278em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.817em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.356em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mtable" id="MathJax-Span-341" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 5.382em; height: 0px;"><span style="position: absolute; clip: rect(3.076em 1000.003em 8.353em -0.407em); top: -5.991em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.356em); top: -4.864em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-342"><span class="mrow" id="MathJax-Span-343"><span class="mn" id="MathJax-Span-344" style="font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -3.481em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-356"><span class="mrow" id="MathJax-Span-357"><span class="mn" id="MathJax-Span-358" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -1.944em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-370"><span class="mrow" id="MathJax-Span-371"><span class="mn" id="MathJax-Span-372" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -0.561em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-384"><span class="mrow" id="MathJax-Span-385"><span class="mn" id="MathJax-Span-386" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.996em;"></span></span><span style="position: absolute; clip: rect(3.076em 1000.003em 8.353em -0.407em); top: -5.991em; left: 1.539em;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -4.864em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-345"><span class="mrow" id="MathJax-Span-346"><span class="mn" id="MathJax-Span-347" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.356em); top: -3.481em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-359"><span class="mrow" id="MathJax-Span-360"><span class="mn" id="MathJax-Span-361" style="font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -1.944em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-373"><span class="mrow" id="MathJax-Span-374"><span class="mn" id="MathJax-Span-375" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -0.561em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-387"><span class="mrow" id="MathJax-Span-388"><span class="mn" id="MathJax-Span-389" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.996em;"></span></span><span style="position: absolute; clip: rect(3.076em 1000.003em 8.353em -0.407em); top: -5.991em; left: 3.025em;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -4.864em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-348"><span class="mrow" id="MathJax-Span-349"><span class="mn" id="MathJax-Span-350" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -3.481em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-362"><span class="mrow" id="MathJax-Span-363"><span class="mn" id="MathJax-Span-364" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.356em); top: -1.944em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-376"><span class="mrow" id="MathJax-Span-377"><span class="mn" id="MathJax-Span-378" style="font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -0.561em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-390"><span class="mrow" id="MathJax-Span-391"><span class="mn" id="MathJax-Span-392" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.996em;"></span></span><span style="position: absolute; clip: rect(3.076em 1000.003em 8.302em -0.459em); top: -5.94em; left: 4.562em;"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(3.23em 1000.003em 4.306em -0.459em); top: -6.094em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-351"><span class="mrow" id="MathJax-Span-352"><span class="msubsup" id="MathJax-Span-353"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.796em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-354" style="font-family: MathJax_Math; font-style: italic;">t</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.361em;"><span class="mi" id="MathJax-Span-355" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.23em 1000.003em 4.46em -0.459em); top: -4.711em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-365"><span class="mrow" id="MathJax-Span-366"><span class="msubsup" id="MathJax-Span-367"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.796em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-368" style="font-family: MathJax_Math; font-style: italic;">t</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.361em;"><span class="mi" id="MathJax-Span-369" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.23em 1000.003em 4.306em -0.459em); top: -3.174em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-379"><span class="mrow" id="MathJax-Span-380"><span class="msubsup" id="MathJax-Span-381"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.796em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-382" style="font-family: MathJax_Math; font-style: italic;">t</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.361em;"><span class="mi" id="MathJax-Span-383" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.356em); top: -0.561em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-393"><span class="mrow" id="MathJax-Span-394"><span class="mn" id="MathJax-Span-395" style="font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.945em;"></span></span></span></span><span class="mo" id="MathJax-Span-396" style="vertical-align: 2.923em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.669em; left: 0.003em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.739em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.278em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.817em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.356em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span><span class="mrow" id="MathJax-Span-397" style="padding-left: 0.156em;"><span class="mo" id="MathJax-Span-398" style="vertical-align: 2.871em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.566em; left: 0.003em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.561em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mtable" id="MathJax-Span-399" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.72em; height: 0px;"><span style="position: absolute; clip: rect(2.974em 1000.003em 7.943em -0.459em); top: -5.633em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 0.72em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -4.608em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-400"><span class="mrow" id="MathJax-Span-401"><span class="mi" id="MathJax-Span-402" style="font-family: MathJax_Math; font-style: italic;">x</span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -3.225em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-403"><span class="mrow" id="MathJax-Span-404"><span class="mi" id="MathJax-Span-405" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -1.79em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-406"><span class="mrow" id="MathJax-Span-407"><span class="mi" id="MathJax-Span-408" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -0.407em; left: 50%; margin-left: -0.356em;"><span class="mtd" id="MathJax-Span-409"><span class="mrow" id="MathJax-Span-410"><span class="mi" id="MathJax-Span-411" style="font-family: MathJax_Math; font-style: italic;">w</span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.638em;"></span></span></span></span><span class="mo" id="MathJax-Span-412" style="vertical-align: 2.871em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.566em; left: 0.003em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.561em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 5.382em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 6.566em; vertical-align: -2.997em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-18">\begin{equation*}
\begin{bmatrix}x' \\ y' \\ z' \\ w'\end{bmatrix} =
\begin{bmatrix}
  1 & 0 & 0 & t_x \\
  0 & 1 & 0 & t_y \\
  0 & 0 & 1 & t_z \\
  0 & 0 & 0 & 1
\end{bmatrix}
\begin{bmatrix}x \\ y \\ z \\ w\end{bmatrix}
\end{equation*}</script>
  
</p><p>
In addition, we can easily "upgrade" all <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-19-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-413" style="width: 2.769em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.257em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-414"><span class="mn" id="MathJax-Span-415" style="font-family: MathJax_Main;">3</span><span class="mo" id="MathJax-Span-416" style="font-family: MathJax_Main; padding-left: 0.207em;">×</span><span class="mn" id="MathJax-Span-417" style="font-family: MathJax_Main; padding-left: 0.207em;">3</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-19">3 \times 3</script> linear transformation
matrices to <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-20-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-418" style="width: 2.769em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.257em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-419"><span class="mn" id="MathJax-Span-420" style="font-family: MathJax_Main;">4</span><span class="mo" id="MathJax-Span-421" style="font-family: MathJax_Main; padding-left: 0.207em;">×</span><span class="mn" id="MathJax-Span-422" style="font-family: MathJax_Main; padding-left: 0.207em;">4</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-20">4 \times 4</script> homogeneous transformation matrices, by adding
<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-21-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-423" style="width: 7.38em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.048em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.847em 1000.003em 3.179em -0.356em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-424"><span class="mrow" id="MathJax-Span-425"><span class="mo" id="MathJax-Span-426" style="font-family: MathJax_Main;">[</span><span class="mtable" id="MathJax-Span-427" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 5.074em; height: 0px;"><span style="position: absolute; clip: rect(3.23em 1000.003em 4.203em -0.407em); top: -3.993em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -2.713em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-428"><span class="mrow" id="MathJax-Span-429"><span class="mn" id="MathJax-Span-430" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.23em 1000.003em 4.203em -0.407em); top: -3.993em; left: 1.539em;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -2.713em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-431"><span class="mrow" id="MathJax-Span-432"><span class="mn" id="MathJax-Span-433" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.23em 1000.003em 4.203em -0.407em); top: -3.993em; left: 3.025em;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -2.713em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-434"><span class="mrow" id="MathJax-Span-435"><span class="mn" id="MathJax-Span-436" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.23em 1000.003em 4.203em -0.356em); top: -3.993em; left: 4.562em;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.356em); top: -2.713em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-437"><span class="mrow" id="MathJax-Span-438"><span class="mn" id="MathJax-Span-439" style="font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mo" id="MathJax-Span-440" style="font-family: MathJax_Main;">]</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.378em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-21">\begin{bmatrix}0 & 0 & 0 & 1\end{bmatrix}</script> as the last row and column (that
just sets <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-22-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-441" style="width: 3.794em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.076em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.847em 1000.003em 2.923em -0.459em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-442"><span class="msup" id="MathJax-Span-443"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-444" style="font-family: MathJax_Math; font-style: italic;">w</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.713em; left: 0.72em;"><span class="mo" id="MathJax-Span-445" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span><span class="mo" id="MathJax-Span-446" style="font-family: MathJax_Main; padding-left: 0.259em;">=</span><span class="mi" id="MathJax-Span-447" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.259em;">w</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.066em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-22">w'=w</script>, and keeps the definitions of <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-23-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-448" style="width: 4.255em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.486em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.847em 1000.003em 3.128em -0.407em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-449"><span class="msup" id="MathJax-Span-450"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-451" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.713em; left: 0.566em;"><span class="mo" id="MathJax-Span-452" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span><span class="mo" id="MathJax-Span-453" style="font-family: MathJax_Main;">,</span><span class="msup" id="MathJax-Span-454" style="padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.873em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-455" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.713em; left: 0.617em;"><span class="mo" id="MathJax-Span-456" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span><span class="mo" id="MathJax-Span-457" style="font-family: MathJax_Main;">,</span><span class="msup" id="MathJax-Span-458" style="padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-459" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.713em; left: 0.566em;"><span class="mo" id="MathJax-Span-460" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.316em; vertical-align: -0.309em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-23">x',y',z'</script> the same as before,
ignoring <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-24-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-461" style="width: 0.873em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.72em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-462"><span class="mi" id="MathJax-Span-463" style="font-family: MathJax_Math; font-style: italic;">w</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-24">w</script>). The next section shows the homogeneous-coordinate forms of all
the major affine transforms.

</p><p>
Note that, while we initially set <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-25-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-464" style="width: 0.873em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.72em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-465"><span class="mi" id="MathJax-Span-466" style="font-family: MathJax_Math; font-style: italic;">w</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-25">w</script> to 1, some kinds of transforms might
change it (affine transforms don't, but the perspective transform does).
Therefore, after a series of transforms, and before the resulting point is
used, we need to divide through by <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-26-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-467" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.027em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.283em 1000.003em 2.359em -0.459em); top: -2.2em; left: 0.003em;"><span class="mrow" id="MathJax-Span-468"><span class="msup" id="MathJax-Span-469"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-470" style="font-family: MathJax_Math; font-style: italic;">w</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.713em; left: 0.72em;"><span class="mo" id="MathJax-Span-471" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.066em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-26">w'</script> to <i>normalize</i> it back to
1—we'll mention this again in the section on the perspective transform
and clip space.

</p><p>
</p><h2>List of common affine transforms</h2>

<p>
Transformation matrices are usually built up out of several base transforms,
which can then be chained together to produce more complex transforms. This
section lists the most common ones.

</p><p>
Rotate by <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-27-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-472" style="width: 0.566em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.464em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.693em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-473"><span class="mi" id="MathJax-Span-474" style="font-family: MathJax_Math; font-style: italic;">θ</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.003em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-27">\theta</script> around the <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-28-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-475" style="width: 0.72em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-476"><span class="mi" id="MathJax-Span-477" style="font-family: MathJax_Math; font-style: italic;">x</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-28">x</script> axis:

<span class="MathJax_Preview"></span><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-29-Frame"><nobr><span class="math" id="MathJax-Span-478" style="width: 21.314em; display: inline-block;"><span style="display: inline-block; position: relative; width: 17.472em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(2.308em 1000.003em 7.841em -0.459em); top: -5.325em; left: 0.003em;"><span class="mrow" id="MathJax-Span-479"><span class="mrow" id="MathJax-Span-480"><span class="mo" id="MathJax-Span-481" style="vertical-align: 2.871em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.617em; left: 0.003em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.51em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mtable" id="MathJax-Span-482" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(3.025em 1000.003em 8.404em -0.459em); top: -6.043em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.407em); top: -6.043em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-483"><span class="mrow" id="MathJax-Span-484"><span class="msup" id="MathJax-Span-485"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-486" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.566em;"><span class="mo" id="MathJax-Span-487" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.357em -0.459em); top: -4.659em; left: 50%; margin-left: -0.459em;"><span class="mtd" id="MathJax-Span-488"><span class="mrow" id="MathJax-Span-489"><span class="msup" id="MathJax-Span-490"><span style="display: inline-block; position: relative; width: 0.873em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-491" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.617em;"><span class="mo" id="MathJax-Span-492" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.407em); top: -3.225em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-493"><span class="mrow" id="MathJax-Span-494"><span class="msup" id="MathJax-Span-495"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-496" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.566em;"><span class="mo" id="MathJax-Span-497" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.459em); top: -1.842em; left: 50%; margin-left: -0.51em;"><span class="mtd" id="MathJax-Span-498"><span class="mrow" id="MathJax-Span-499"><span class="msup" id="MathJax-Span-500"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-501" style="font-family: MathJax_Math; font-style: italic;">w</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.72em;"><span class="mo" id="MathJax-Span-502" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span><span style="display: inline-block; width: 0px; height: 6.048em;"></span></span></span></span><span class="mo" id="MathJax-Span-503" style="vertical-align: 2.871em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.617em; left: 0.003em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.51em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span><span class="mo" id="MathJax-Span-504" style="font-family: MathJax_Main; padding-left: 0.259em;">=</span><span class="mrow" id="MathJax-Span-505" style="padding-left: 0.259em;"><span class="mo" id="MathJax-Span-506" style="vertical-align: 2.871em; padding-left: 0.259em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.566em; left: 0.003em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.561em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mtable" id="MathJax-Span-507" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 8.916em; height: 0px;"><span style="position: absolute; clip: rect(3.025em 1000.003em 8.199em -0.407em); top: -5.889em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.356em); top: -4.813em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-508"><span class="mrow" id="MathJax-Span-509"><span class="mn" id="MathJax-Span-510" style="font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -3.43em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-520"><span class="mrow" id="MathJax-Span-521"><span class="mn" id="MathJax-Span-522" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -1.995em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-537"><span class="mrow" id="MathJax-Span-538"><span class="mn" id="MathJax-Span-539" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -0.612em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-553"><span class="mrow" id="MathJax-Span-554"><span class="mn" id="MathJax-Span-555" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.894em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 8.199em -0.407em); top: -5.889em; left: 1.539em;"><span style="display: inline-block; position: relative; width: 2.001em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -4.813em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-511"><span class="mrow" id="MathJax-Span-512"><span class="mn" id="MathJax-Span-513" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.898em 1000.003em 2.923em -0.407em); top: -3.43em; left: 50%; margin-left: -0.971em;"><span class="mtd" id="MathJax-Span-523"><span class="mrow" id="MathJax-Span-524"><span class="mi" id="MathJax-Span-525" style="font-family: MathJax_Main;">cos</span><span class="mo" id="MathJax-Span-526"></span><span class="mi" id="MathJax-Span-527" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.156em;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.898em 1000.003em 2.923em -0.407em); top: -1.995em; left: 50%; margin-left: -0.92em;"><span class="mtd" id="MathJax-Span-540"><span class="mrow" id="MathJax-Span-541"><span class="mi" id="MathJax-Span-542" style="font-family: MathJax_Main;">sin</span><span class="mo" id="MathJax-Span-543"></span><span class="mi" id="MathJax-Span-544" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.156em;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -0.612em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-556"><span class="mrow" id="MathJax-Span-557"><span class="mn" id="MathJax-Span-558" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.894em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 8.199em -0.407em); top: -5.889em; left: 4.511em;"><span style="display: inline-block; position: relative; width: 2.871em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -4.813em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-514"><span class="mrow" id="MathJax-Span-515"><span class="mn" id="MathJax-Span-516" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.898em 1000.003em 2.923em -0.356em); top: -3.43em; left: 50%; margin-left: -1.432em;"><span class="mtd" id="MathJax-Span-528"><span class="mrow" id="MathJax-Span-529"><span class="mo" id="MathJax-Span-530" style="font-family: MathJax_Main;">−</span><span class="mi" id="MathJax-Span-531" style="font-family: MathJax_Main; padding-left: 0.156em;">sin</span><span class="mo" id="MathJax-Span-532"></span><span class="mi" id="MathJax-Span-533" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.156em;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.898em 1000.003em 2.923em -0.407em); top: -1.995em; left: 50%; margin-left: -0.971em;"><span class="mtd" id="MathJax-Span-545"><span class="mrow" id="MathJax-Span-546"><span class="mi" id="MathJax-Span-547" style="font-family: MathJax_Main;">cos</span><span class="mo" id="MathJax-Span-548"></span><span class="mi" id="MathJax-Span-549" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.156em;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -0.612em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-559"><span class="mrow" id="MathJax-Span-560"><span class="mn" id="MathJax-Span-561" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.894em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 8.199em -0.407em); top: -5.889em; left: 8.404em;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -4.813em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-517"><span class="mrow" id="MathJax-Span-518"><span class="mn" id="MathJax-Span-519" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -3.43em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-534"><span class="mrow" id="MathJax-Span-535"><span class="mn" id="MathJax-Span-536" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -1.995em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-550"><span class="mrow" id="MathJax-Span-551"><span class="mn" id="MathJax-Span-552" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.356em); top: -0.612em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-562"><span class="mrow" id="MathJax-Span-563"><span class="mn" id="MathJax-Span-564" style="font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.894em;"></span></span></span></span><span class="mo" id="MathJax-Span-565" style="vertical-align: 2.871em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.566em; left: 0.003em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.561em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span><span class="mrow" id="MathJax-Span-566" style="padding-left: 0.156em;"><span class="mo" id="MathJax-Span-567" style="vertical-align: 2.871em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.566em; left: 0.003em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.561em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mtable" id="MathJax-Span-568" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.72em; height: 0px;"><span style="position: absolute; clip: rect(2.974em 1000.003em 7.943em -0.459em); top: -5.633em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 0.72em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -4.608em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-569"><span class="mrow" id="MathJax-Span-570"><span class="mi" id="MathJax-Span-571" style="font-family: MathJax_Math; font-style: italic;">x</span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -3.225em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-572"><span class="mrow" id="MathJax-Span-573"><span class="mi" id="MathJax-Span-574" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -1.79em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-575"><span class="mrow" id="MathJax-Span-576"><span class="mi" id="MathJax-Span-577" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -0.407em; left: 50%; margin-left: -0.356em;"><span class="mtd" id="MathJax-Span-578"><span class="mrow" id="MathJax-Span-579"><span class="mi" id="MathJax-Span-580" style="font-family: MathJax_Math; font-style: italic;">w</span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.638em;"></span></span></span></span><span class="mo" id="MathJax-Span-581" style="vertical-align: 2.871em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.566em; left: 0.003em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.561em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 5.33em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 6.503em; vertical-align: -2.934em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-29">\begin{equation*}
\begin{bmatrix}x' \\ y' \\ z' \\ w'\end{bmatrix} =
\begin{bmatrix}
  1 & 0 & 0 & 0 \\
  0 & \cos \theta & -\sin \theta & 0 \\
  0 & \sin \theta & \cos \theta & 0 \\
  0 & 0 & 0 & 1
\end{bmatrix}
\begin{bmatrix}x \\ y \\ z \\ w\end{bmatrix}
\end{equation*}</script>

</p><p>
Rotate by <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-30-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-582" style="width: 0.566em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.464em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.693em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-583"><span class="mi" id="MathJax-Span-584" style="font-family: MathJax_Math; font-style: italic;">θ</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.003em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-30">\theta</script> around the <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-31-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-585" style="width: 0.72em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-586"><span class="mi" id="MathJax-Span-587" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.309em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-31">y</script> axis:

<span class="MathJax_Preview"></span><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-32-Frame"><nobr><span class="math" id="MathJax-Span-588" style="width: 21.314em; display: inline-block;"><span style="display: inline-block; position: relative; width: 17.472em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(2.308em 1000.003em 7.841em -0.459em); top: -5.325em; left: 0.003em;"><span class="mrow" id="MathJax-Span-589"><span class="mrow" id="MathJax-Span-590"><span class="mo" id="MathJax-Span-591" style="vertical-align: 2.871em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.617em; left: 0.003em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.51em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mtable" id="MathJax-Span-592" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(3.025em 1000.003em 8.404em -0.459em); top: -6.043em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.407em); top: -6.043em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-593"><span class="mrow" id="MathJax-Span-594"><span class="msup" id="MathJax-Span-595"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-596" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.566em;"><span class="mo" id="MathJax-Span-597" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.357em -0.459em); top: -4.659em; left: 50%; margin-left: -0.459em;"><span class="mtd" id="MathJax-Span-598"><span class="mrow" id="MathJax-Span-599"><span class="msup" id="MathJax-Span-600"><span style="display: inline-block; position: relative; width: 0.873em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-601" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.617em;"><span class="mo" id="MathJax-Span-602" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.407em); top: -3.225em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-603"><span class="mrow" id="MathJax-Span-604"><span class="msup" id="MathJax-Span-605"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-606" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.566em;"><span class="mo" id="MathJax-Span-607" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.459em); top: -1.842em; left: 50%; margin-left: -0.51em;"><span class="mtd" id="MathJax-Span-608"><span class="mrow" id="MathJax-Span-609"><span class="msup" id="MathJax-Span-610"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-611" style="font-family: MathJax_Math; font-style: italic;">w</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.72em;"><span class="mo" id="MathJax-Span-612" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span><span style="display: inline-block; width: 0px; height: 6.048em;"></span></span></span></span><span class="mo" id="MathJax-Span-613" style="vertical-align: 2.871em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.617em; left: 0.003em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.51em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span><span class="mo" id="MathJax-Span-614" style="font-family: MathJax_Main; padding-left: 0.259em;">=</span><span class="mrow" id="MathJax-Span-615" style="padding-left: 0.259em;"><span class="mo" id="MathJax-Span-616" style="vertical-align: 2.871em; padding-left: 0.259em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.566em; left: 0.003em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.561em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mtable" id="MathJax-Span-617" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 8.916em; height: 0px;"><span style="position: absolute; clip: rect(3.025em 1000.003em 8.251em -0.407em); top: -5.94em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 2.871em; height: 0px;"><span style="position: absolute; clip: rect(1.898em 1000.003em 2.923em -0.407em); top: -4.813em; left: 50%; margin-left: -0.971em;"><span class="mtd" id="MathJax-Span-618"><span class="mrow" id="MathJax-Span-619"><span class="mi" id="MathJax-Span-620" style="font-family: MathJax_Main;">cos</span><span class="mo" id="MathJax-Span-621"></span><span class="mi" id="MathJax-Span-622" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.156em;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -3.43em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-634"><span class="mrow" id="MathJax-Span-635"><span class="mn" id="MathJax-Span-636" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.898em 1000.003em 2.923em -0.356em); top: -1.995em; left: 50%; margin-left: -1.432em;"><span class="mtd" id="MathJax-Span-646"><span class="mrow" id="MathJax-Span-647"><span class="mo" id="MathJax-Span-648" style="font-family: MathJax_Main;">−</span><span class="mi" id="MathJax-Span-649" style="font-family: MathJax_Main; padding-left: 0.156em;">sin</span><span class="mo" id="MathJax-Span-650"></span><span class="mi" id="MathJax-Span-651" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.156em;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -0.612em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-663"><span class="mrow" id="MathJax-Span-664"><span class="mn" id="MathJax-Span-665" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.945em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 8.199em -0.407em); top: -5.889em; left: 3.896em;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -4.813em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-623"><span class="mrow" id="MathJax-Span-624"><span class="mn" id="MathJax-Span-625" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.356em); top: -3.43em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-637"><span class="mrow" id="MathJax-Span-638"><span class="mn" id="MathJax-Span-639" style="font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -1.995em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-652"><span class="mrow" id="MathJax-Span-653"><span class="mn" id="MathJax-Span-654" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -0.612em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-666"><span class="mrow" id="MathJax-Span-667"><span class="mn" id="MathJax-Span-668" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.894em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 8.251em -0.407em); top: -5.94em; left: 5.382em;"><span style="display: inline-block; position: relative; width: 2.001em; height: 0px;"><span style="position: absolute; clip: rect(1.898em 1000.003em 2.923em -0.407em); top: -4.813em; left: 50%; margin-left: -0.92em;"><span class="mtd" id="MathJax-Span-626"><span class="mrow" id="MathJax-Span-627"><span class="mi" id="MathJax-Span-628" style="font-family: MathJax_Main;">sin</span><span class="mo" id="MathJax-Span-629"></span><span class="mi" id="MathJax-Span-630" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.156em;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -3.43em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-640"><span class="mrow" id="MathJax-Span-641"><span class="mn" id="MathJax-Span-642" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.898em 1000.003em 2.923em -0.407em); top: -1.995em; left: 50%; margin-left: -0.971em;"><span class="mtd" id="MathJax-Span-655"><span class="mrow" id="MathJax-Span-656"><span class="mi" id="MathJax-Span-657" style="font-family: MathJax_Main;">cos</span><span class="mo" id="MathJax-Span-658"></span><span class="mi" id="MathJax-Span-659" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.156em;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -0.612em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-669"><span class="mrow" id="MathJax-Span-670"><span class="mn" id="MathJax-Span-671" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.945em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 8.199em -0.407em); top: -5.889em; left: 8.404em;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -4.813em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-631"><span class="mrow" id="MathJax-Span-632"><span class="mn" id="MathJax-Span-633" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -3.43em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-643"><span class="mrow" id="MathJax-Span-644"><span class="mn" id="MathJax-Span-645" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -1.995em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-660"><span class="mrow" id="MathJax-Span-661"><span class="mn" id="MathJax-Span-662" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.356em); top: -0.612em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-672"><span class="mrow" id="MathJax-Span-673"><span class="mn" id="MathJax-Span-674" style="font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.894em;"></span></span></span></span><span class="mo" id="MathJax-Span-675" style="vertical-align: 2.871em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.566em; left: 0.003em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.561em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span><span class="mrow" id="MathJax-Span-676" style="padding-left: 0.156em;"><span class="mo" id="MathJax-Span-677" style="vertical-align: 2.871em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.566em; left: 0.003em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.561em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mtable" id="MathJax-Span-678" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.72em; height: 0px;"><span style="position: absolute; clip: rect(2.974em 1000.003em 7.943em -0.459em); top: -5.633em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 0.72em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -4.608em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-679"><span class="mrow" id="MathJax-Span-680"><span class="mi" id="MathJax-Span-681" style="font-family: MathJax_Math; font-style: italic;">x</span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -3.225em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-682"><span class="mrow" id="MathJax-Span-683"><span class="mi" id="MathJax-Span-684" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -1.79em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-685"><span class="mrow" id="MathJax-Span-686"><span class="mi" id="MathJax-Span-687" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -0.407em; left: 50%; margin-left: -0.356em;"><span class="mtd" id="MathJax-Span-688"><span class="mrow" id="MathJax-Span-689"><span class="mi" id="MathJax-Span-690" style="font-family: MathJax_Math; font-style: italic;">w</span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.638em;"></span></span></span></span><span class="mo" id="MathJax-Span-691" style="vertical-align: 2.871em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.566em; left: 0.003em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.561em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 5.33em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 6.503em; vertical-align: -2.934em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-32">\begin{equation*}
\begin{bmatrix}x' \\ y' \\ z' \\ w'\end{bmatrix} =
\begin{bmatrix}
  \cos \theta & 0 & \sin \theta & 0 \\
  0 & 1 & 0 & 0 \\
  -\sin \theta & 0 & \cos \theta & 0 \\
  0 & 0 & 0 & 1
\end{bmatrix}
\begin{bmatrix}x \\ y \\ z \\ w\end{bmatrix}
\end{equation*}</script>

</p><p>
Rotate by <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-33-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-692" style="width: 0.566em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.464em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.693em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-693"><span class="mi" id="MathJax-Span-694" style="font-family: MathJax_Math; font-style: italic;">θ</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.003em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-33">\theta</script> around the <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-34-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-695" style="width: 0.669em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-696"><span class="mi" id="MathJax-Span-697" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-34">z</script> axis:

<span class="MathJax_Preview"></span><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-35-Frame"><nobr><span class="math" id="MathJax-Span-698" style="width: 21.314em; display: inline-block;"><span style="display: inline-block; position: relative; width: 17.472em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(2.308em 1000.003em 7.841em -0.459em); top: -5.325em; left: 0.003em;"><span class="mrow" id="MathJax-Span-699"><span class="mrow" id="MathJax-Span-700"><span class="mo" id="MathJax-Span-701" style="vertical-align: 2.871em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.617em; left: 0.003em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.51em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mtable" id="MathJax-Span-702" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(3.025em 1000.003em 8.404em -0.459em); top: -6.043em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.407em); top: -6.043em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-703"><span class="mrow" id="MathJax-Span-704"><span class="msup" id="MathJax-Span-705"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-706" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.566em;"><span class="mo" id="MathJax-Span-707" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.357em -0.459em); top: -4.659em; left: 50%; margin-left: -0.459em;"><span class="mtd" id="MathJax-Span-708"><span class="mrow" id="MathJax-Span-709"><span class="msup" id="MathJax-Span-710"><span style="display: inline-block; position: relative; width: 0.873em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-711" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.617em;"><span class="mo" id="MathJax-Span-712" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.407em); top: -3.225em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-713"><span class="mrow" id="MathJax-Span-714"><span class="msup" id="MathJax-Span-715"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-716" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.566em;"><span class="mo" id="MathJax-Span-717" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.459em); top: -1.842em; left: 50%; margin-left: -0.51em;"><span class="mtd" id="MathJax-Span-718"><span class="mrow" id="MathJax-Span-719"><span class="msup" id="MathJax-Span-720"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-721" style="font-family: MathJax_Math; font-style: italic;">w</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.72em;"><span class="mo" id="MathJax-Span-722" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span><span style="display: inline-block; width: 0px; height: 6.048em;"></span></span></span></span><span class="mo" id="MathJax-Span-723" style="vertical-align: 2.871em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.617em; left: 0.003em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.51em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span><span class="mo" id="MathJax-Span-724" style="font-family: MathJax_Main; padding-left: 0.259em;">=</span><span class="mrow" id="MathJax-Span-725" style="padding-left: 0.259em;"><span class="mo" id="MathJax-Span-726" style="vertical-align: 2.871em; padding-left: 0.259em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.566em; left: 0.003em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.561em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mtable" id="MathJax-Span-727" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 8.916em; height: 0px;"><span style="position: absolute; clip: rect(3.025em 1000.003em 8.251em -0.407em); top: -5.94em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 2.001em; height: 0px;"><span style="position: absolute; clip: rect(1.898em 1000.003em 2.923em -0.407em); top: -4.813em; left: 50%; margin-left: -0.971em;"><span class="mtd" id="MathJax-Span-728"><span class="mrow" id="MathJax-Span-729"><span class="mi" id="MathJax-Span-730" style="font-family: MathJax_Main;">cos</span><span class="mo" id="MathJax-Span-731"></span><span class="mi" id="MathJax-Span-732" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.156em;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.898em 1000.003em 2.923em -0.407em); top: -3.43em; left: 50%; margin-left: -0.92em;"><span class="mtd" id="MathJax-Span-745"><span class="mrow" id="MathJax-Span-746"><span class="mi" id="MathJax-Span-747" style="font-family: MathJax_Main;">sin</span><span class="mo" id="MathJax-Span-748"></span><span class="mi" id="MathJax-Span-749" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.156em;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -1.995em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-761"><span class="mrow" id="MathJax-Span-762"><span class="mn" id="MathJax-Span-763" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -0.612em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-773"><span class="mrow" id="MathJax-Span-774"><span class="mn" id="MathJax-Span-775" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.945em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 8.251em -0.407em); top: -5.94em; left: 3.025em;"><span style="display: inline-block; position: relative; width: 2.871em; height: 0px;"><span style="position: absolute; clip: rect(1.898em 1000.003em 2.923em -0.356em); top: -4.813em; left: 50%; margin-left: -1.432em;"><span class="mtd" id="MathJax-Span-733"><span class="mrow" id="MathJax-Span-734"><span class="mo" id="MathJax-Span-735" style="font-family: MathJax_Main;">−</span><span class="mi" id="MathJax-Span-736" style="font-family: MathJax_Main; padding-left: 0.156em;">sin</span><span class="mo" id="MathJax-Span-737"></span><span class="mi" id="MathJax-Span-738" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.156em;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.898em 1000.003em 2.923em -0.407em); top: -3.43em; left: 50%; margin-left: -0.971em;"><span class="mtd" id="MathJax-Span-750"><span class="mrow" id="MathJax-Span-751"><span class="mi" id="MathJax-Span-752" style="font-family: MathJax_Main;">cos</span><span class="mo" id="MathJax-Span-753"></span><span class="mi" id="MathJax-Span-754" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.156em;">θ</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -1.995em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-764"><span class="mrow" id="MathJax-Span-765"><span class="mn" id="MathJax-Span-766" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -0.612em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-776"><span class="mrow" id="MathJax-Span-777"><span class="mn" id="MathJax-Span-778" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.945em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 8.199em -0.407em); top: -5.889em; left: 6.867em;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -4.813em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-739"><span class="mrow" id="MathJax-Span-740"><span class="mn" id="MathJax-Span-741" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -3.43em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-755"><span class="mrow" id="MathJax-Span-756"><span class="mn" id="MathJax-Span-757" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.356em); top: -1.995em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-767"><span class="mrow" id="MathJax-Span-768"><span class="mn" id="MathJax-Span-769" style="font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -0.612em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-779"><span class="mrow" id="MathJax-Span-780"><span class="mn" id="MathJax-Span-781" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.894em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 8.199em -0.407em); top: -5.889em; left: 8.404em;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -4.813em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-742"><span class="mrow" id="MathJax-Span-743"><span class="mn" id="MathJax-Span-744" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -3.43em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-758"><span class="mrow" id="MathJax-Span-759"><span class="mn" id="MathJax-Span-760" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -1.995em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-770"><span class="mrow" id="MathJax-Span-771"><span class="mn" id="MathJax-Span-772" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.356em); top: -0.612em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-782"><span class="mrow" id="MathJax-Span-783"><span class="mn" id="MathJax-Span-784" style="font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.894em;"></span></span></span></span><span class="mo" id="MathJax-Span-785" style="vertical-align: 2.871em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.566em; left: 0.003em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.561em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span><span class="mrow" id="MathJax-Span-786" style="padding-left: 0.156em;"><span class="mo" id="MathJax-Span-787" style="vertical-align: 2.871em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.566em; left: 0.003em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.561em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mtable" id="MathJax-Span-788" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.72em; height: 0px;"><span style="position: absolute; clip: rect(2.974em 1000.003em 7.943em -0.459em); top: -5.633em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 0.72em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -4.608em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-789"><span class="mrow" id="MathJax-Span-790"><span class="mi" id="MathJax-Span-791" style="font-family: MathJax_Math; font-style: italic;">x</span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -3.225em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-792"><span class="mrow" id="MathJax-Span-793"><span class="mi" id="MathJax-Span-794" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -1.79em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-795"><span class="mrow" id="MathJax-Span-796"><span class="mi" id="MathJax-Span-797" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -0.407em; left: 50%; margin-left: -0.356em;"><span class="mtd" id="MathJax-Span-798"><span class="mrow" id="MathJax-Span-799"><span class="mi" id="MathJax-Span-800" style="font-family: MathJax_Math; font-style: italic;">w</span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.638em;"></span></span></span></span><span class="mo" id="MathJax-Span-801" style="vertical-align: 2.871em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.566em; left: 0.003em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.561em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 5.33em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 6.503em; vertical-align: -2.934em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-35">\begin{equation*}
\begin{bmatrix}x' \\ y' \\ z' \\ w'\end{bmatrix} =
\begin{bmatrix}
  \cos \theta & -\sin \theta & 0 & 0 \\
  \sin \theta & \cos \theta & 0 & 0 \\
  0 & 0 & 1 & 0 \\
  0 & 0 & 0 & 1
\end{bmatrix}
\begin{bmatrix}x \\ y \\ z \\ w\end{bmatrix}
\end{equation*}</script>

</p><p>
Translate by an offset <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-36-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-802" style="width: 5.228em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.255em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.847em 1000.003em 3.23em -0.356em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-803"><span class="mo" id="MathJax-Span-804" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-805"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.796em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-806" style="font-family: MathJax_Math; font-style: italic;">t</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.361em;"><span class="mi" id="MathJax-Span-807" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span><span class="mo" id="MathJax-Span-808" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-809" style="padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.796em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-810" style="font-family: MathJax_Math; font-style: italic;">t</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.361em;"><span class="mi" id="MathJax-Span-811" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span><span class="mo" id="MathJax-Span-812" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-813" style="padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.796em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-814" style="font-family: MathJax_Math; font-style: italic;">t</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.361em;"><span class="mi" id="MathJax-Span-815" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span><span class="mo" id="MathJax-Span-816" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.378em; vertical-align: -0.434em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-36">(t_x,t_y,t_z)</script>:

<span class="MathJax_Preview"></span><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-37-Frame"><nobr><span class="math" id="MathJax-Span-817" style="width: 17.011em; display: inline-block;"><span style="display: inline-block; position: relative; width: 13.937em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(2.308em 1000.003em 7.943em -0.459em); top: -5.377em; left: 0.003em;"><span class="mrow" id="MathJax-Span-818"><span class="mrow" id="MathJax-Span-819"><span class="mo" id="MathJax-Span-820" style="vertical-align: 2.871em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.617em; left: 0.003em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.51em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mtable" id="MathJax-Span-821" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(3.025em 1000.003em 8.404em -0.459em); top: -6.043em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.407em); top: -6.043em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-822"><span class="mrow" id="MathJax-Span-823"><span class="msup" id="MathJax-Span-824"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-825" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.566em;"><span class="mo" id="MathJax-Span-826" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.357em -0.459em); top: -4.659em; left: 50%; margin-left: -0.459em;"><span class="mtd" id="MathJax-Span-827"><span class="mrow" id="MathJax-Span-828"><span class="msup" id="MathJax-Span-829"><span style="display: inline-block; position: relative; width: 0.873em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-830" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.617em;"><span class="mo" id="MathJax-Span-831" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.407em); top: -3.225em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-832"><span class="mrow" id="MathJax-Span-833"><span class="msup" id="MathJax-Span-834"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-835" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.566em;"><span class="mo" id="MathJax-Span-836" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.459em); top: -1.842em; left: 50%; margin-left: -0.51em;"><span class="mtd" id="MathJax-Span-837"><span class="mrow" id="MathJax-Span-838"><span class="msup" id="MathJax-Span-839"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-840" style="font-family: MathJax_Math; font-style: italic;">w</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.72em;"><span class="mo" id="MathJax-Span-841" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span><span style="display: inline-block; width: 0px; height: 6.048em;"></span></span></span></span><span class="mo" id="MathJax-Span-842" style="vertical-align: 2.871em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.617em; left: 0.003em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.51em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span><span class="mo" id="MathJax-Span-843" style="font-family: MathJax_Main; padding-left: 0.259em;">=</span><span class="mrow" id="MathJax-Span-844" style="padding-left: 0.259em;"><span class="mo" id="MathJax-Span-845" style="vertical-align: 2.923em; padding-left: 0.259em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.669em; left: 0.003em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.739em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.278em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.817em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.356em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mtable" id="MathJax-Span-846" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 5.382em; height: 0px;"><span style="position: absolute; clip: rect(3.076em 1000.003em 8.353em -0.407em); top: -5.991em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.356em); top: -4.864em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-847"><span class="mrow" id="MathJax-Span-848"><span class="mn" id="MathJax-Span-849" style="font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -3.481em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-861"><span class="mrow" id="MathJax-Span-862"><span class="mn" id="MathJax-Span-863" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -1.944em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-875"><span class="mrow" id="MathJax-Span-876"><span class="mn" id="MathJax-Span-877" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -0.561em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-889"><span class="mrow" id="MathJax-Span-890"><span class="mn" id="MathJax-Span-891" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.996em;"></span></span><span style="position: absolute; clip: rect(3.076em 1000.003em 8.353em -0.407em); top: -5.991em; left: 1.539em;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -4.864em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-850"><span class="mrow" id="MathJax-Span-851"><span class="mn" id="MathJax-Span-852" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.356em); top: -3.481em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-864"><span class="mrow" id="MathJax-Span-865"><span class="mn" id="MathJax-Span-866" style="font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -1.944em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-878"><span class="mrow" id="MathJax-Span-879"><span class="mn" id="MathJax-Span-880" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -0.561em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-892"><span class="mrow" id="MathJax-Span-893"><span class="mn" id="MathJax-Span-894" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.996em;"></span></span><span style="position: absolute; clip: rect(3.076em 1000.003em 8.353em -0.407em); top: -5.991em; left: 3.025em;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -4.864em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-853"><span class="mrow" id="MathJax-Span-854"><span class="mn" id="MathJax-Span-855" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -3.481em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-867"><span class="mrow" id="MathJax-Span-868"><span class="mn" id="MathJax-Span-869" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.356em); top: -1.944em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-881"><span class="mrow" id="MathJax-Span-882"><span class="mn" id="MathJax-Span-883" style="font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -0.561em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-895"><span class="mrow" id="MathJax-Span-896"><span class="mn" id="MathJax-Span-897" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.996em;"></span></span><span style="position: absolute; clip: rect(3.076em 1000.003em 8.302em -0.459em); top: -5.94em; left: 4.562em;"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(3.23em 1000.003em 4.306em -0.459em); top: -6.094em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-856"><span class="mrow" id="MathJax-Span-857"><span class="msubsup" id="MathJax-Span-858"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.796em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-859" style="font-family: MathJax_Math; font-style: italic;">t</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.361em;"><span class="mi" id="MathJax-Span-860" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.23em 1000.003em 4.46em -0.459em); top: -4.711em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-870"><span class="mrow" id="MathJax-Span-871"><span class="msubsup" id="MathJax-Span-872"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.796em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-873" style="font-family: MathJax_Math; font-style: italic;">t</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.361em;"><span class="mi" id="MathJax-Span-874" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.23em 1000.003em 4.306em -0.459em); top: -3.174em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-884"><span class="mrow" id="MathJax-Span-885"><span class="msubsup" id="MathJax-Span-886"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.796em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-887" style="font-family: MathJax_Math; font-style: italic;">t</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.361em;"><span class="mi" id="MathJax-Span-888" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.356em); top: -0.561em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-898"><span class="mrow" id="MathJax-Span-899"><span class="mn" id="MathJax-Span-900" style="font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.945em;"></span></span></span></span><span class="mo" id="MathJax-Span-901" style="vertical-align: 2.923em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.669em; left: 0.003em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.739em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.278em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.817em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.356em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span><span class="mrow" id="MathJax-Span-902" style="padding-left: 0.156em;"><span class="mo" id="MathJax-Span-903" style="vertical-align: 2.871em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.566em; left: 0.003em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.561em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mtable" id="MathJax-Span-904" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.72em; height: 0px;"><span style="position: absolute; clip: rect(2.974em 1000.003em 7.943em -0.459em); top: -5.633em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 0.72em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -4.608em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-905"><span class="mrow" id="MathJax-Span-906"><span class="mi" id="MathJax-Span-907" style="font-family: MathJax_Math; font-style: italic;">x</span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -3.225em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-908"><span class="mrow" id="MathJax-Span-909"><span class="mi" id="MathJax-Span-910" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -1.79em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-911"><span class="mrow" id="MathJax-Span-912"><span class="mi" id="MathJax-Span-913" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -0.407em; left: 50%; margin-left: -0.356em;"><span class="mtd" id="MathJax-Span-914"><span class="mrow" id="MathJax-Span-915"><span class="mi" id="MathJax-Span-916" style="font-family: MathJax_Math; font-style: italic;">w</span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.638em;"></span></span></span></span><span class="mo" id="MathJax-Span-917" style="vertical-align: 2.871em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.566em; left: 0.003em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.561em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 5.382em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 6.566em; vertical-align: -2.997em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-37">\begin{equation*}
\begin{bmatrix}x' \\ y' \\ z' \\ w'\end{bmatrix} =
\begin{bmatrix}
  1 & 0 & 0 & t_x \\
  0 & 1 & 0 & t_y \\
  0 & 0 & 1 & t_z \\
  0 & 0 & 0 & 1
\end{bmatrix}
\begin{bmatrix}x \\ y \\ z \\ w\end{bmatrix}
\end{equation*}</script>

</p><p>
Scale by a factor <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-38-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-918" style="width: 5.587em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.562em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.847em 1000.003em 3.23em -0.356em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-919"><span class="mo" id="MathJax-Span-920" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-921"><span style="display: inline-block; position: relative; width: 0.925em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-922" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.464em;"><span class="mi" id="MathJax-Span-923" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span><span class="mo" id="MathJax-Span-924" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-925" style="padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.925em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-926" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.464em;"><span class="mi" id="MathJax-Span-927" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span><span class="mo" id="MathJax-Span-928" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-929" style="padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.925em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-930" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.464em;"><span class="mi" id="MathJax-Span-931" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span><span class="mo" id="MathJax-Span-932" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.378em; vertical-align: -0.434em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-38">(s_x,s_y,s_z)</script>:

<span class="MathJax_Preview"></span><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-39-Frame"><nobr><span class="math" id="MathJax-Span-933" style="width: 18.189em; display: inline-block;"><span style="display: inline-block; position: relative; width: 14.91em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(2.308em 1000.003em 7.943em -0.459em); top: -5.377em; left: 0.003em;"><span class="mrow" id="MathJax-Span-934"><span class="mrow" id="MathJax-Span-935"><span class="mo" id="MathJax-Span-936" style="vertical-align: 2.871em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.617em; left: 0.003em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.51em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mtable" id="MathJax-Span-937" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(3.025em 1000.003em 8.404em -0.459em); top: -6.043em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.407em); top: -6.043em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-938"><span class="mrow" id="MathJax-Span-939"><span class="msup" id="MathJax-Span-940"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-941" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.566em;"><span class="mo" id="MathJax-Span-942" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.357em -0.459em); top: -4.659em; left: 50%; margin-left: -0.459em;"><span class="mtd" id="MathJax-Span-943"><span class="mrow" id="MathJax-Span-944"><span class="msup" id="MathJax-Span-945"><span style="display: inline-block; position: relative; width: 0.873em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-946" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.617em;"><span class="mo" id="MathJax-Span-947" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.407em); top: -3.225em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-948"><span class="mrow" id="MathJax-Span-949"><span class="msup" id="MathJax-Span-950"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-951" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.566em;"><span class="mo" id="MathJax-Span-952" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.459em); top: -1.842em; left: 50%; margin-left: -0.51em;"><span class="mtd" id="MathJax-Span-953"><span class="mrow" id="MathJax-Span-954"><span class="msup" id="MathJax-Span-955"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-956" style="font-family: MathJax_Math; font-style: italic;">w</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.72em;"><span class="mo" id="MathJax-Span-957" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span><span style="display: inline-block; width: 0px; height: 6.048em;"></span></span></span></span><span class="mo" id="MathJax-Span-958" style="vertical-align: 2.871em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.617em; left: 0.003em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.51em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span><span class="mo" id="MathJax-Span-959" style="font-family: MathJax_Main; padding-left: 0.259em;">=</span><span class="mrow" id="MathJax-Span-960" style="padding-left: 0.259em;"><span class="mo" id="MathJax-Span-961" style="vertical-align: 2.923em; padding-left: 0.259em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.669em; left: 0.003em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.739em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.278em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.817em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.356em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mtable" id="MathJax-Span-962" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 6.355em; height: 0px;"><span style="position: absolute; clip: rect(3.025em 1000.003em 8.097em -0.407em); top: -5.735em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 0.925em; height: 0px;"><span style="position: absolute; clip: rect(3.384em 1000.003em 4.306em -0.407em); top: -6.094em; left: 50%; margin-left: -0.459em;"><span class="mtd" id="MathJax-Span-963"><span class="mrow" id="MathJax-Span-964"><span class="msubsup" id="MathJax-Span-965"><span style="display: inline-block; position: relative; width: 0.925em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-966" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.464em;"><span class="mi" id="MathJax-Span-967" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -3.481em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-977"><span class="mrow" id="MathJax-Span-978"><span class="mn" id="MathJax-Span-979" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -1.944em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-991"><span class="mrow" id="MathJax-Span-992"><span class="mn" id="MathJax-Span-993" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -0.561em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1005"><span class="mrow" id="MathJax-Span-1006"><span class="mn" id="MathJax-Span-1007" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.74em;"></span></span><span style="position: absolute; clip: rect(3.076em 1000.003em 8.353em -0.407em); top: -5.991em; left: 1.949em;"><span style="display: inline-block; position: relative; width: 0.925em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -4.864em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-968"><span class="mrow" id="MathJax-Span-969"><span class="mn" id="MathJax-Span-970" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(3.384em 1000.003em 4.46em -0.407em); top: -4.711em; left: 50%; margin-left: -0.459em;"><span class="mtd" id="MathJax-Span-980"><span class="mrow" id="MathJax-Span-981"><span class="msubsup" id="MathJax-Span-982"><span style="display: inline-block; position: relative; width: 0.925em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-983" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.464em;"><span class="mi" id="MathJax-Span-984" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -1.944em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-994"><span class="mrow" id="MathJax-Span-995"><span class="mn" id="MathJax-Span-996" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -0.561em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1008"><span class="mrow" id="MathJax-Span-1009"><span class="mn" id="MathJax-Span-1010" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.996em;"></span></span><span style="position: absolute; clip: rect(3.076em 1000.003em 8.353em -0.407em); top: -5.991em; left: 3.896em;"><span style="display: inline-block; position: relative; width: 0.925em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -4.864em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-971"><span class="mrow" id="MathJax-Span-972"><span class="mn" id="MathJax-Span-973" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -3.481em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-985"><span class="mrow" id="MathJax-Span-986"><span class="mn" id="MathJax-Span-987" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(3.384em 1000.003em 4.306em -0.407em); top: -3.174em; left: 50%; margin-left: -0.459em;"><span class="mtd" id="MathJax-Span-997"><span class="mrow" id="MathJax-Span-998"><span class="msubsup" id="MathJax-Span-999"><span style="display: inline-block; position: relative; width: 0.925em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1000" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.464em;"><span class="mi" id="MathJax-Span-1001" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -0.561em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1011"><span class="mrow" id="MathJax-Span-1012"><span class="mn" id="MathJax-Span-1013" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.996em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 8.302em -0.407em); top: -5.94em; left: 5.843em;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -4.864em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-974"><span class="mrow" id="MathJax-Span-975"><span class="mn" id="MathJax-Span-976" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -3.481em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-988"><span class="mrow" id="MathJax-Span-989"><span class="mn" id="MathJax-Span-990" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -1.944em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1002"><span class="mrow" id="MathJax-Span-1003"><span class="mn" id="MathJax-Span-1004" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.356em); top: -0.561em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1014"><span class="mrow" id="MathJax-Span-1015"><span class="mn" id="MathJax-Span-1016" style="font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.945em;"></span></span></span></span><span class="mo" id="MathJax-Span-1017" style="vertical-align: 2.923em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.669em; left: 0.003em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.739em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.278em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.817em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.356em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span><span class="mrow" id="MathJax-Span-1018" style="padding-left: 0.156em;"><span class="mo" id="MathJax-Span-1019" style="vertical-align: 2.871em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.566em; left: 0.003em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.561em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mtable" id="MathJax-Span-1020" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.72em; height: 0px;"><span style="position: absolute; clip: rect(2.974em 1000.003em 7.943em -0.459em); top: -5.633em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 0.72em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -4.608em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1021"><span class="mrow" id="MathJax-Span-1022"><span class="mi" id="MathJax-Span-1023" style="font-family: MathJax_Math; font-style: italic;">x</span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -3.225em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1024"><span class="mrow" id="MathJax-Span-1025"><span class="mi" id="MathJax-Span-1026" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -1.79em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1027"><span class="mrow" id="MathJax-Span-1028"><span class="mi" id="MathJax-Span-1029" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -0.407em; left: 50%; margin-left: -0.356em;"><span class="mtd" id="MathJax-Span-1030"><span class="mrow" id="MathJax-Span-1031"><span class="mi" id="MathJax-Span-1032" style="font-family: MathJax_Math; font-style: italic;">w</span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.638em;"></span></span></span></span><span class="mo" id="MathJax-Span-1033" style="vertical-align: 2.871em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.566em; left: 0.003em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.561em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 5.382em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 6.566em; vertical-align: -2.997em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-39">\begin{equation*}
\begin{bmatrix}x' \\ y' \\ z' \\ w'\end{bmatrix} =
\begin{bmatrix}
  s_x & 0 & 0 & 0 \\
  0 & s_y & 0 & 0 \\
  0 & 0 & s_z & 0 \\
  0 & 0 & 0 & 1
\end{bmatrix}
\begin{bmatrix}x \\ y \\ z \\ w\end{bmatrix}
\end{equation*}</script>

</p><p>
For scaling by a uniform factor <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-40-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1034" style="width: 0.566em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.464em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1035"><span class="mi" id="MathJax-Span-1036" style="font-family: MathJax_Math; font-style: italic;">s</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-40">s</script>, just set <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-41-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1037" style="width: 8.916em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.277em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(2.154em 1000.003em 3.23em -0.407em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1038"><span class="msubsup" id="MathJax-Span-1039"><span style="display: inline-block; position: relative; width: 0.925em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1040" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.464em;"><span class="mi" id="MathJax-Span-1041" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span><span class="mo" id="MathJax-Span-1042" style="font-family: MathJax_Main; padding-left: 0.259em;">=</span><span class="msubsup" id="MathJax-Span-1043" style="padding-left: 0.259em;"><span style="display: inline-block; position: relative; width: 0.925em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1044" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.464em;"><span class="mi" id="MathJax-Span-1045" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span><span class="mo" id="MathJax-Span-1046" style="font-family: MathJax_Main; padding-left: 0.259em;">=</span><span class="msubsup" id="MathJax-Span-1047" style="padding-left: 0.259em;"><span style="display: inline-block; position: relative; width: 0.925em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1048" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.464em;"><span class="mi" id="MathJax-Span-1049" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span><span class="mo" id="MathJax-Span-1050" style="font-family: MathJax_Main; padding-left: 0.259em;">=</span><span class="mi" id="MathJax-Span-1051" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.259em;">s</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.003em; vertical-align: -0.434em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-41">s_x=s_y=s_z=s</script>. It's common for
game engines to support only uniform scaling, because it simplifies some
things. For example, if an engine only supports uniform scaling, spheres will
always stay spherical, so we can safely assume spherical colliders will
continue to work.  Note that scaling happens around the origin, so objects not
centered at the origin will have their centers move.  They'll move towards the
origin when scaled by factors less than 1, or away from the origin when scaled
by factors greater than 1.  To avoid this, either scale the object when it's
located at the origin, or perform a translation afterwards to move the object
back to where it should be.

</p><p>
</p><h2>Model space and world space</h2>

<p>
Models typically start in <i>model space</i>, also called <i>object space</i>.
They are usually centered at the origin, as exported from a 3d modeling
program. Each model starts in its own model space, where it sits at the origin.

</p><p>
A scene is made up of a single coordinate space, the <i>world space</i>, which
may contain many objects. Objects are inserted into the scene, but if just
inserted directly, they would all end up at the origin, and possibly at strange
sizes (depending on what units were used in the modeling program). An object is
transformed from model space to world space by scaling, translating, and
rotating it, so it reaches the size, location, and orientation it should have
in the world.

</p><p>
</p><h2>View space</h2>

<p>
To render a scene, we need to view the world from somewhere, which we think of
as the "camera". The camera is located at some position in the world (in
world coordinates), and has an orientation. There are different ways an engine
can use to specify the orientation.  Here, we'll use the <i>look-at</i>
approach, which is a common one. In that approach, the camera is oriented by
specifying two things. First, a <i>look point</i> (also in world coordinates),
specifies where the camera is pointing.  Second, an <i>up direction</i>
specifies how to rotate the scene so the correct side is at the top of the
screen. In many games, the up direction is just <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-42-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1052" style="width: 3.998em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.281em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.847em 1000.003em 3.179em -0.356em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1053"><span class="mo" id="MathJax-Span-1054" style="font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-1055" style="font-family: MathJax_Main;">0</span><span class="mo" id="MathJax-Span-1056" style="font-family: MathJax_Main;">,</span><span class="mn" id="MathJax-Span-1057" style="font-family: MathJax_Main; padding-left: 0.156em;">1</span><span class="mo" id="MathJax-Span-1058" style="font-family: MathJax_Main;">,</span><span class="mn" id="MathJax-Span-1059" style="font-family: MathJax_Main; padding-left: 0.156em;">0</span><span class="mo" id="MathJax-Span-1060" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.378em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-42">(0,1,0)</script>, with the <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-43-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1061" style="width: 0.72em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1062"><span class="mi" id="MathJax-Span-1063" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.309em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-43">y</script> axis in
world space being the up direction (exceptions include things like flight
simulators, where which way is up might rotate when the plane banks).

</p><p>
The world as it's seen from the camera's vantage point is the <i>view
space</i>.  In view space, the camera is located at the origin, and by convention,
faces perpendicularly to the <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-44-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1064" style="width: 0.72em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1065"><span class="mi" id="MathJax-Span-1066" style="font-family: MathJax_Math; font-style: italic;">x</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-44">x</script>–<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-45-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1067" style="width: 0.72em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1068"><span class="mi" id="MathJax-Span-1069" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.309em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-45">y</script> axis. That way, <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-46-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1070" style="width: 0.72em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1071"><span class="mi" id="MathJax-Span-1072" style="font-family: MathJax_Math; font-style: italic;">x</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-46">x</script> and <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-47-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1073" style="width: 0.72em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1074"><span class="mi" id="MathJax-Span-1075" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.309em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-47">y</script> coordinates
will eventually map onto screen <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-48-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1076" style="width: 0.72em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1077"><span class="mi" id="MathJax-Span-1078" style="font-family: MathJax_Math; font-style: italic;">x</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-48">x</script> and <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-49-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1079" style="width: 0.72em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1080"><span class="mi" id="MathJax-Span-1081" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.309em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-49">y</script> coordinates, while <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-50-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1082" style="width: 0.669em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1083"><span class="mi" id="MathJax-Span-1084" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-50">z</script> will
represent depth into the scene (distance from the camera).

</p><p>
To transform objects in our scene from world space into view space, we
apply a series of transformations to <i>all</i> elements of the scene. The
elements all start out in world space, and the series of transformations
converts their coordinates into view-space coordinates.

</p><p>
The first transformation is easy.  The camera is located at position <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-51-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1085" style="width: 7.841em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.406em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.847em 1000.003em 3.23em -0.868em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1086"><span class="texatom" id="MathJax-Span-1087"><span class="mrow" id="MathJax-Span-1088"><span class="munderover" id="MathJax-Span-1089"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1090" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -4.045em; left: 0.054em;"><span style="height: 0.003em; vertical-align: 0.003em; width: 0.464em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-1091" style="font-family: MathJax_Main;">⃗&nbsp;<span style="height: 0.003em; vertical-align: 0.003em; margin-left: -0.254em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-1092" style="font-family: MathJax_Main; padding-left: 0.259em;">=</span><span class="mo" id="MathJax-Span-1093" style="font-family: MathJax_Main; padding-left: 0.259em;">(</span><span class="msubsup" id="MathJax-Span-1094"><span style="display: inline-block; position: relative; width: 0.925em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1095" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.464em;"><span class="mi" id="MathJax-Span-1096" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span><span class="mo" id="MathJax-Span-1097" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-1098" style="padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.925em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1099" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.464em;"><span class="mi" id="MathJax-Span-1100" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span><span class="mo" id="MathJax-Span-1101" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-1102" style="padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.925em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1103" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.464em;"><span class="mi" id="MathJax-Span-1104" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span><span class="mo" id="MathJax-Span-1105" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.441em; vertical-align: -0.434em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-51">\vec{c} =
(c_x,c_y,c_z)</script> in world space. In view space, we want it to be at the origin,
<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-52-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1106" style="width: 3.998em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.281em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.847em 1000.003em 3.179em -0.356em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1107"><span class="mo" id="MathJax-Span-1108" style="font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-1109" style="font-family: MathJax_Main;">0</span><span class="mo" id="MathJax-Span-1110" style="font-family: MathJax_Main;">,</span><span class="mn" id="MathJax-Span-1111" style="font-family: MathJax_Main; padding-left: 0.156em;">0</span><span class="mo" id="MathJax-Span-1112" style="font-family: MathJax_Main;">,</span><span class="mn" id="MathJax-Span-1113" style="font-family: MathJax_Main; padding-left: 0.156em;">0</span><span class="mo" id="MathJax-Span-1114" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.378em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-52">(0,0,0)</script>. This simply requires translating by an offset of <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-53-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1115" style="width: 11.837em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.685em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.847em 1000.003em 3.23em -0.356em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1116"><span class="mo" id="MathJax-Span-1117" style="font-family: MathJax_Main;">−</span><span class="texatom" id="MathJax-Span-1118"><span class="mrow" id="MathJax-Span-1119"><span class="munderover" id="MathJax-Span-1120"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1121" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -4.045em; left: 0.054em;"><span style="height: 0.003em; vertical-align: 0.003em; width: 0.464em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-1122" style="font-family: MathJax_Main;">⃗&nbsp;<span style="height: 0.003em; vertical-align: 0.003em; margin-left: -0.254em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-1123" style="font-family: MathJax_Main; padding-left: 0.259em;">=</span><span class="mo" id="MathJax-Span-1124" style="font-family: MathJax_Main; padding-left: 0.259em;">(</span><span class="mo" id="MathJax-Span-1125" style="font-family: MathJax_Main;">−</span><span class="msubsup" id="MathJax-Span-1126"><span style="display: inline-block; position: relative; width: 0.925em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1127" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.464em;"><span class="mi" id="MathJax-Span-1128" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span><span class="mo" id="MathJax-Span-1129" style="font-family: MathJax_Main;">,</span><span class="mo" id="MathJax-Span-1130" style="font-family: MathJax_Main; padding-left: 0.156em;">−</span><span class="msubsup" id="MathJax-Span-1131"><span style="display: inline-block; position: relative; width: 0.925em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1132" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.464em;"><span class="mi" id="MathJax-Span-1133" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span><span class="mo" id="MathJax-Span-1134" style="font-family: MathJax_Main;">,</span><span class="mo" id="MathJax-Span-1135" style="font-family: MathJax_Main; padding-left: 0.156em;">−</span><span class="msubsup" id="MathJax-Span-1136"><span style="display: inline-block; position: relative; width: 0.925em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1137" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.464em;"><span class="mi" id="MathJax-Span-1138" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span><span class="mo" id="MathJax-Span-1139" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.441em; vertical-align: -0.434em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-53">-\vec{c} =
(-c_x,-c_y,-c_z)</script>, using the translation matrix given earlier.

</p><p>
Next, we need to point the camera at the look point, and orient it so the
correct side is up. To calculate the transformation matrix for this step
requires a little vector mathematics.

</p><p>
In world-space coordinates, the camera is at <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-54-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1140" style="width: 0.72em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.283em 1000.003em 2.359em -0.868em); top: -2.2em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1141"><span class="texatom" id="MathJax-Span-1142"><span class="mrow" id="MathJax-Span-1143"><span class="munderover" id="MathJax-Span-1144"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1145" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -4.045em; left: 0.054em;"><span style="height: 0.003em; vertical-align: 0.003em; width: 0.464em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-1146" style="font-family: MathJax_Main;">⃗&nbsp;<span style="height: 0.003em; vertical-align: 0.003em; margin-left: -0.254em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.066em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-54">\vec{c}</script>, and should be looking
at the look point, <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-55-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1147" style="width: 0.72em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.027em 1000.003em 2.359em -0.817em); top: -2.2em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1148"><span class="texatom" id="MathJax-Span-1149"><span class="mrow" id="MathJax-Span-1150"><span class="munderover" id="MathJax-Span-1151"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px;"><span style="position: absolute; clip: rect(1.898em 1000.003em 2.923em -0.459em); top: -2.764em; left: 0.003em;"><span class="mi" id="MathJax-Span-1152" style="font-family: MathJax_Main;">ℓ</span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; top: -4.301em; left: 0.105em;"><span style="height: 0.003em; vertical-align: 0.003em; width: 0.464em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-1153" style="font-family: MathJax_Main;">⃗&nbsp;<span style="height: 0.003em; vertical-align: 0.003em; margin-left: -0.254em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.441em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-55">\vec{\ell}</script>. That means it should be looking in direction
<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-56-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1154" style="width: 5.33em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.357em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.591em 1000.003em 2.923em -0.663em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1155"><span class="texatom" id="MathJax-Span-1156"><span class="mrow" id="MathJax-Span-1157"><span class="munderover" id="MathJax-Span-1158"><span style="display: inline-block; position: relative; width: 0.72em; height: 0px;"><span style="position: absolute; clip: rect(1.693em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1159" style="font-family: MathJax_Math; font-style: italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -4.301em; left: 0.259em;"><span style="height: 0.003em; vertical-align: 0.003em; width: 0.464em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-1160" style="font-family: MathJax_Main;">⃗&nbsp;<span style="height: 0.003em; vertical-align: 0.003em; margin-left: -0.254em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-1161" style="font-family: MathJax_Main; padding-left: 0.259em;">=</span><span class="texatom" id="MathJax-Span-1162" style="padding-left: 0.259em;"><span class="mrow" id="MathJax-Span-1163"><span class="munderover" id="MathJax-Span-1164"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px;"><span style="position: absolute; clip: rect(1.898em 1000.003em 2.923em -0.459em); top: -2.764em; left: 0.003em;"><span class="mi" id="MathJax-Span-1165" style="font-family: MathJax_Main;">ℓ</span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; top: -4.301em; left: 0.105em;"><span style="height: 0.003em; vertical-align: 0.003em; width: 0.464em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-1166" style="font-family: MathJax_Main;">⃗&nbsp;<span style="height: 0.003em; vertical-align: 0.003em; margin-left: -0.254em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-1167" style="font-family: MathJax_Main; padding-left: 0.207em;">−</span><span class="texatom" id="MathJax-Span-1168" style="padding-left: 0.207em;"><span class="mrow" id="MathJax-Span-1169"><span class="munderover" id="MathJax-Span-1170"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1171" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -4.045em; left: 0.054em;"><span style="height: 0.003em; vertical-align: 0.003em; width: 0.464em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-1172" style="font-family: MathJax_Main;">⃗&nbsp;<span style="height: 0.003em; vertical-align: 0.003em; margin-left: -0.254em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.441em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-56">\vec{d} = \vec{\ell} - \vec{c}</script>, in world space. If we normalize <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-57-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1173" style="width: 4.101em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.332em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.437em 1000.003em 3.742em -0.868em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1174"><span class="texatom" id="MathJax-Span-1175"><span class="mrow" id="MathJax-Span-1176"><span class="munderover" id="MathJax-Span-1177"><span style="display: inline-block; position: relative; width: 0.617em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1178" style="font-family: MathJax_Math; font-style: italic;">n</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -4.045em; left: 0.105em;"><span style="height: 0.003em; vertical-align: 0.003em; width: 0.464em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-1179" style="font-family: MathJax_Main;">⃗&nbsp;<span style="height: 0.003em; vertical-align: 0.003em; margin-left: -0.254em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-1180" style="font-family: MathJax_Main; padding-left: 0.259em;">=</span><span class="mfrac" id="MathJax-Span-1181" style="padding-left: 0.259em;"><span style="display: inline-block; position: relative; width: 1.13em; height: 0px; margin-right: 0.105em; margin-left: 0.105em;"><span style="position: absolute; clip: rect(3.076em 1000.003em 4.152em -0.561em); top: -4.403em; left: 50%; margin-left: -0.254em;"><span class="texatom" id="MathJax-Span-1182"><span class="mrow" id="MathJax-Span-1183"><span class="munderover" id="MathJax-Span-1184"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000.003em 2.462em -0.459em); top: -2.303em; left: 0.003em;"><span class="mi" id="MathJax-Span-1185" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span><span style="position: absolute; top: -4.249em; left: 0.259em;"><span style="height: 0.003em; vertical-align: 0.003em; width: 0.361em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-1186" style="font-size: 70.7%; font-family: MathJax_Main;">⃗&nbsp;<span style="height: 0.003em; vertical-align: 0.003em; margin-left: -0.202em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(1.437em 1000.003em 2.666em -0.356em); top: -1.688em; left: 50%; margin-left: -0.51em;"><span class="mrow" id="MathJax-Span-1187"><span class="texatom" id="MathJax-Span-1188"><span class="mrow" id="MathJax-Span-1189"><span class="mo" id="MathJax-Span-1190" style="font-size: 70.7%; font-family: MathJax_Main;">|</span></span></span><span class="texatom" id="MathJax-Span-1191"><span class="mrow" id="MathJax-Span-1192"><span class="munderover" id="MathJax-Span-1193"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000.003em 2.462em -0.459em); top: -2.303em; left: 0.003em;"><span class="mi" id="MathJax-Span-1194" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span><span style="position: absolute; top: -4.249em; left: 0.259em;"><span style="height: 0.003em; vertical-align: 0.003em; width: 0.361em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-1195" style="font-size: 70.7%; font-family: MathJax_Main;">⃗&nbsp;<span style="height: 0.003em; vertical-align: 0.003em; margin-left: -0.202em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="texatom" id="MathJax-Span-1196"><span class="mrow" id="MathJax-Span-1197"><span class="mo" id="MathJax-Span-1198" style="font-size: 70.7%; font-family: MathJax_Main;">|</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span><span style="position: absolute; clip: rect(0.873em 1000.003em 1.232em -0.459em); top: -1.278em; left: 0.003em;"><span style="border-left-width: 1.13em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.078em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.566em; vertical-align: -1.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-57">\vec{n} =
\frac{\vec{d}}{|\vec{d}|}</script> so it has length 1, this gives us a direction
vector, called the <i>look direction</i>, which is what we want to align with
the <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-58-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1199" style="width: 0.669em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1200"><span class="mi" id="MathJax-Span-1201" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-58">z</script> axis. It's also called the <i>view plane normal</i>, because the
direction we're looking is perpendicular to ("normal to") the desired view
plane.

</p><p>
At this point, we could begin applying rotations: find the <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-59-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1202" style="width: 0.72em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1203"><span class="mi" id="MathJax-Span-1204" style="font-family: MathJax_Math; font-style: italic;">x</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-59">x</script>-axis and
<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-60-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1205" style="width: 0.72em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1206"><span class="mi" id="MathJax-Span-1207" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.309em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-60">y</script>-axis angles between <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-61-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1208" style="width: 0.822em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.283em 1000.003em 2.359em -0.868em); top: -2.2em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1209"><span class="texatom" id="MathJax-Span-1210"><span class="mrow" id="MathJax-Span-1211"><span class="munderover" id="MathJax-Span-1212"><span style="display: inline-block; position: relative; width: 0.617em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1213" style="font-family: MathJax_Math; font-style: italic;">n</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -4.045em; left: 0.105em;"><span style="height: 0.003em; vertical-align: 0.003em; width: 0.464em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-1214" style="font-family: MathJax_Main;">⃗&nbsp;<span style="height: 0.003em; vertical-align: 0.003em; margin-left: -0.254em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.066em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-61">\vec{n}</script> and the <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-62-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1215" style="width: 0.669em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1216"><span class="mi" id="MathJax-Span-1217" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-62">z</script> axis, and rotate so that the look
direction coincides with the <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-63-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1218" style="width: 0.669em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1219"><span class="mi" id="MathJax-Span-1220" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-63">z</script> axis. However, instead we'll fix the rest of
the camera's orientation and do the transformation all at once. The idea is to
think of the view transformation as an overall change of coordinates: we start
out with <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-64-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1221" style="width: 0.72em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1222"><span class="mi" id="MathJax-Span-1223" style="font-family: MathJax_Math; font-style: italic;">x</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-64">x</script>–<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-65-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1224" style="width: 0.72em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1225"><span class="mi" id="MathJax-Span-1226" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.309em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-65">y</script>–<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-66-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1227" style="width: 0.669em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1228"><span class="mi" id="MathJax-Span-1229" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-66">z</script> coordinates, and we want to transform into a new axis
system. We already have one of the three axes, with <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-67-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1230" style="width: 0.822em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.283em 1000.003em 2.359em -0.868em); top: -2.2em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1231"><span class="texatom" id="MathJax-Span-1232"><span class="mrow" id="MathJax-Span-1233"><span class="munderover" id="MathJax-Span-1234"><span style="display: inline-block; position: relative; width: 0.617em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1235" style="font-family: MathJax_Math; font-style: italic;">n</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -4.045em; left: 0.105em;"><span style="height: 0.003em; vertical-align: 0.003em; width: 0.464em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-1236" style="font-family: MathJax_Main;">⃗&nbsp;<span style="height: 0.003em; vertical-align: 0.003em; margin-left: -0.254em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.066em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-67">\vec{n}</script> representing the new
<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-68-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1237" style="width: 0.669em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1238"><span class="mi" id="MathJax-Span-1239" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-68">z</script>, so we just need the other two. 

</p><p>
How do we find these axes? The other piece of information we have is the
<i>up</i> vector. It is not necessarily orthogonal to the look direction, so is
not one of the axes itself.  However, a version of the <i>up</i> vector should
represent our new <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-69-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1240" style="width: 0.72em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1241"><span class="mi" id="MathJax-Span-1242" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.309em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-69">y</script> axis—but we need a version that's within the view
plane.  We can get that in two steps, using cross products, and in the process
get the third axis as well.  First, we compute 
(normalized again),

<span class="MathJax_Preview"></span><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-70-Frame"><nobr><span class="math" id="MathJax-Span-1243" style="width: 7.123em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.843em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(0.822em 1000.003em 4.255em -0.817em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1244"><span class="texatom" id="MathJax-Span-1245"><span class="mrow" id="MathJax-Span-1246"><span class="munderover" id="MathJax-Span-1247"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1248" style="font-family: MathJax_Math; font-style: italic;">u</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -4.045em; left: 0.105em;"><span style="height: 0.003em; vertical-align: 0.003em; width: 0.464em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-1249" style="font-family: MathJax_Main;">⃗&nbsp;<span style="height: 0.003em; vertical-align: 0.003em; margin-left: -0.254em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-1250" style="font-family: MathJax_Main; padding-left: 0.259em;">=</span><span class="mfrac" id="MathJax-Span-1251" style="padding-left: 0.259em;"><span style="display: inline-block; position: relative; width: 3.691em; height: 0px; margin-right: 0.105em; margin-left: 0.105em;"><span style="position: absolute; clip: rect(1.539em 1000.003em 3.128em -0.459em); top: -3.43em; left: 50%; margin-left: -1.483em;"><span class="mrow" id="MathJax-Span-1252"><span class="texatom" id="MathJax-Span-1253"><span class="mrow" id="MathJax-Span-1254"><span class="munderover" id="MathJax-Span-1255"><span style="display: inline-block; position: relative; width: 1.078em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1256"><span class="mi" id="MathJax-Span-1257" style="font-family: MathJax_Math; font-style: italic;">u</span><span class="mi" id="MathJax-Span-1258" style="font-family: MathJax_Math; font-style: italic;">p</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(2.103em 1000.003em 2.923em -0.407em); top: -3.327em; left: 0.054em;"><span class="mo" id="MathJax-Span-1259" style="font-family: MathJax_Main;">→</span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-1260" style="font-family: MathJax_Main; padding-left: 0.207em;">×</span><span class="texatom" id="MathJax-Span-1261" style="padding-left: 0.207em;"><span class="mrow" id="MathJax-Span-1262"><span class="munderover" id="MathJax-Span-1263"><span style="display: inline-block; position: relative; width: 0.617em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1264" style="font-family: MathJax_Math; font-style: italic;">n</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -4.045em; left: 0.105em;"><span style="height: 0.003em; vertical-align: 0.003em; width: 0.464em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-1265" style="font-family: MathJax_Main;">⃗&nbsp;<span style="height: 0.003em; vertical-align: 0.003em; margin-left: -0.254em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.539em 1000.003em 3.179em -0.356em); top: -1.688em; left: 50%; margin-left: -1.79em;"><span class="mrow" id="MathJax-Span-1266"><span class="texatom" id="MathJax-Span-1267"><span class="mrow" id="MathJax-Span-1268"><span class="mo" id="MathJax-Span-1269" style="font-family: MathJax_Main;">|</span></span></span><span class="texatom" id="MathJax-Span-1270"><span class="mrow" id="MathJax-Span-1271"><span class="munderover" id="MathJax-Span-1272"><span style="display: inline-block; position: relative; width: 1.078em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1273"><span class="mi" id="MathJax-Span-1274" style="font-family: MathJax_Math; font-style: italic;">u</span><span class="mi" id="MathJax-Span-1275" style="font-family: MathJax_Math; font-style: italic;">p</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(2.103em 1000.003em 2.923em -0.407em); top: -3.327em; left: 0.054em;"><span class="mo" id="MathJax-Span-1276" style="font-family: MathJax_Main;">→</span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-1277" style="font-family: MathJax_Main; padding-left: 0.207em;">×</span><span class="texatom" id="MathJax-Span-1278" style="padding-left: 0.207em;"><span class="mrow" id="MathJax-Span-1279"><span class="munderover" id="MathJax-Span-1280"><span style="display: inline-block; position: relative; width: 0.617em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1281" style="font-family: MathJax_Math; font-style: italic;">n</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -4.045em; left: 0.105em;"><span style="height: 0.003em; vertical-align: 0.003em; width: 0.464em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-1282" style="font-family: MathJax_Main;">⃗&nbsp;<span style="height: 0.003em; vertical-align: 0.003em; margin-left: -0.254em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="texatom" id="MathJax-Span-1283"><span class="mrow" id="MathJax-Span-1284"><span class="mo" id="MathJax-Span-1285" style="font-family: MathJax_Main;">|</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(0.873em 1000.003em 1.232em -0.459em); top: -1.278em; left: 0.003em;"><span style="border-left-width: 3.691em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.078em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.878em; vertical-align: -1.684em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-70">\vec{u} = \frac{\vec{up} \times \vec{n}}{|\vec{up} \times
\vec{n}|}</script>

</p><p>
By the definition of cross products, <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-71-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1286" style="width: 0.771em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.617em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.283em 1000.003em 2.359em -0.817em); top: -2.2em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1287"><span class="texatom" id="MathJax-Span-1288"><span class="mrow" id="MathJax-Span-1289"><span class="munderover" id="MathJax-Span-1290"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1291" style="font-family: MathJax_Math; font-style: italic;">u</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -4.045em; left: 0.105em;"><span style="height: 0.003em; vertical-align: 0.003em; width: 0.464em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-1292" style="font-family: MathJax_Main;">⃗&nbsp;<span style="height: 0.003em; vertical-align: 0.003em; margin-left: -0.254em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.066em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-71">\vec{u}</script> is orthogonal to
both <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-72-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1293" style="width: 1.386em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.13em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(0.976em 1000.003em 2.564em -0.459em); top: -2.2em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1294"><span class="texatom" id="MathJax-Span-1295"><span class="mrow" id="MathJax-Span-1296"><span class="munderover" id="MathJax-Span-1297"><span style="display: inline-block; position: relative; width: 1.078em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1298"><span class="mi" id="MathJax-Span-1299" style="font-family: MathJax_Math; font-style: italic;">u</span><span class="mi" id="MathJax-Span-1300" style="font-family: MathJax_Math; font-style: italic;">p</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(2.103em 1000.003em 2.923em -0.407em); top: -3.327em; left: 0.054em;"><span class="mo" id="MathJax-Span-1301" style="font-family: MathJax_Main;">→</span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.691em; vertical-align: -0.309em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-72">\vec{up}</script> and <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-73-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1302" style="width: 0.822em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.283em 1000.003em 2.359em -0.868em); top: -2.2em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1303"><span class="texatom" id="MathJax-Span-1304"><span class="mrow" id="MathJax-Span-1305"><span class="munderover" id="MathJax-Span-1306"><span style="display: inline-block; position: relative; width: 0.617em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1307" style="font-family: MathJax_Math; font-style: italic;">n</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -4.045em; left: 0.105em;"><span style="height: 0.003em; vertical-align: 0.003em; width: 0.464em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-1308" style="font-family: MathJax_Main;">⃗&nbsp;<span style="height: 0.003em; vertical-align: 0.003em; margin-left: -0.254em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.066em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-73">\vec{n}</script>.  Since it's orthogonal to the view plane's
normal, it must be in the view plane. And since it's orthogonal to the up
direction, it must point to the <i>side</i> of the view plane. Therefore, it's
the new <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-74-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1309" style="width: 0.72em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1310"><span class="mi" id="MathJax-Span-1311" style="font-family: MathJax_Math; font-style: italic;">x</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-74">x</script> axis.  Finally, from this we can get the new <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-75-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1312" style="width: 0.72em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1313"><span class="mi" id="MathJax-Span-1314" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.309em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-75">y</script> axis by taking
another cross product, <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-76-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1315" style="width: 5.279em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.306em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.847em 1000.003em 2.923em -0.868em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1316"><span class="texatom" id="MathJax-Span-1317"><span class="mrow" id="MathJax-Span-1318"><span class="munderover" id="MathJax-Span-1319"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1320" style="font-family: MathJax_Math; font-style: italic;">v</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -4.045em; left: 0.054em;"><span style="height: 0.003em; vertical-align: 0.003em; width: 0.464em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-1321" style="font-family: MathJax_Main;">⃗&nbsp;<span style="height: 0.003em; vertical-align: 0.003em; margin-left: -0.254em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-1322" style="font-family: MathJax_Main; padding-left: 0.259em;">=</span><span class="texatom" id="MathJax-Span-1323" style="padding-left: 0.259em;"><span class="mrow" id="MathJax-Span-1324"><span class="munderover" id="MathJax-Span-1325"><span style="display: inline-block; position: relative; width: 0.617em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1326" style="font-family: MathJax_Math; font-style: italic;">n</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -4.045em; left: 0.105em;"><span style="height: 0.003em; vertical-align: 0.003em; width: 0.464em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-1327" style="font-family: MathJax_Main;">⃗&nbsp;<span style="height: 0.003em; vertical-align: 0.003em; margin-left: -0.254em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-1328" style="font-family: MathJax_Main; padding-left: 0.207em;">×</span><span class="texatom" id="MathJax-Span-1329" style="padding-left: 0.207em;"><span class="mrow" id="MathJax-Span-1330"><span class="munderover" id="MathJax-Span-1331"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1332" style="font-family: MathJax_Math; font-style: italic;">u</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -4.045em; left: 0.105em;"><span style="height: 0.003em; vertical-align: 0.003em; width: 0.464em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-1333" style="font-family: MathJax_Main;">⃗&nbsp;<span style="height: 0.003em; vertical-align: 0.003em; margin-left: -0.254em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.066em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-76">\vec{v} = \vec{n} \times \vec{u}</script>. Since this is
orthogonal to both the view plane's normal, and to a vector pointing to the
side of the view plane, it must point up in the view plane.

</p><p>
Now we have a new three-axis coordinate system, defined by the <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-77-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1334" style="width: 0.771em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.617em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.283em 1000.003em 2.359em -0.817em); top: -2.2em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1335"><span class="texatom" id="MathJax-Span-1336"><span class="mrow" id="MathJax-Span-1337"><span class="munderover" id="MathJax-Span-1338"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1339" style="font-family: MathJax_Math; font-style: italic;">u</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -4.045em; left: 0.105em;"><span style="height: 0.003em; vertical-align: 0.003em; width: 0.464em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-1340" style="font-family: MathJax_Main;">⃗&nbsp;<span style="height: 0.003em; vertical-align: 0.003em; margin-left: -0.254em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.066em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-77">\vec{u}</script>–<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-78-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1341" style="width: 0.72em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.283em 1000.003em 2.359em -0.868em); top: -2.2em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1342"><span class="texatom" id="MathJax-Span-1343"><span class="mrow" id="MathJax-Span-1344"><span class="munderover" id="MathJax-Span-1345"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1346" style="font-family: MathJax_Math; font-style: italic;">v</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -4.045em; left: 0.054em;"><span style="height: 0.003em; vertical-align: 0.003em; width: 0.464em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-1347" style="font-family: MathJax_Main;">⃗&nbsp;<span style="height: 0.003em; vertical-align: 0.003em; margin-left: -0.254em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.066em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-78">\vec{v}</script>–<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-79-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1348" style="width: 0.822em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.283em 1000.003em 2.359em -0.868em); top: -2.2em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1349"><span class="texatom" id="MathJax-Span-1350"><span class="mrow" id="MathJax-Span-1351"><span class="munderover" id="MathJax-Span-1352"><span style="display: inline-block; position: relative; width: 0.617em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1353" style="font-family: MathJax_Math; font-style: italic;">n</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -4.045em; left: 0.105em;"><span style="height: 0.003em; vertical-align: 0.003em; width: 0.464em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-1354" style="font-family: MathJax_Main;">⃗&nbsp;<span style="height: 0.003em; vertical-align: 0.003em; margin-left: -0.254em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.066em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-79">\vec{n}</script>
direction vectors. To transform the scene into view space, we need to transform
the objects from world-space coordinates to this new coordinate system. This
could be done by a series of rotations, but it can also be done by constructing
a single change-of-coordinate matrix from these three direction vectors which
represent the new axes:

<span class="MathJax_Preview"></span><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-80-Frame"><nobr><span class="math" id="MathJax-Span-1355" style="width: 18.753em; display: inline-block;"><span style="display: inline-block; position: relative; width: 15.371em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(2.308em 1000.003em 8.097em -0.459em); top: -5.428em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1356"><span class="mrow" id="MathJax-Span-1357"><span class="mo" id="MathJax-Span-1358" style="vertical-align: 2.871em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.617em; left: 0.003em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.51em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mtable" id="MathJax-Span-1359" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(3.025em 1000.003em 8.404em -0.459em); top: -6.043em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.407em); top: -6.043em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-1360"><span class="mrow" id="MathJax-Span-1361"><span class="msup" id="MathJax-Span-1362"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1363" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.566em;"><span class="mo" id="MathJax-Span-1364" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.357em -0.459em); top: -4.659em; left: 50%; margin-left: -0.459em;"><span class="mtd" id="MathJax-Span-1365"><span class="mrow" id="MathJax-Span-1366"><span class="msup" id="MathJax-Span-1367"><span style="display: inline-block; position: relative; width: 0.873em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1368" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.617em;"><span class="mo" id="MathJax-Span-1369" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.407em); top: -3.225em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-1370"><span class="mrow" id="MathJax-Span-1371"><span class="msup" id="MathJax-Span-1372"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1373" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.566em;"><span class="mo" id="MathJax-Span-1374" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.459em); top: -1.842em; left: 50%; margin-left: -0.51em;"><span class="mtd" id="MathJax-Span-1375"><span class="mrow" id="MathJax-Span-1376"><span class="msup" id="MathJax-Span-1377"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1378" style="font-family: MathJax_Math; font-style: italic;">w</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.72em;"><span class="mo" id="MathJax-Span-1379" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span><span style="display: inline-block; width: 0px; height: 6.048em;"></span></span></span></span><span class="mo" id="MathJax-Span-1380" style="vertical-align: 2.871em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.617em; left: 0.003em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.51em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span><span class="mo" id="MathJax-Span-1381" style="font-family: MathJax_Main; padding-left: 0.259em;">=</span><span class="mrow" id="MathJax-Span-1382" style="padding-left: 0.259em;"><span class="mo" id="MathJax-Span-1383" style="vertical-align: 2.974em; padding-left: 0.259em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.822em; left: 0.003em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.688em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.176em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.715em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.202em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mtable" id="MathJax-Span-1384" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 6.816em; height: 0px;"><span style="position: absolute; clip: rect(3.179em 1000.003em 8.404em -0.459em); top: -5.94em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 1.078em; height: 0px;"><span style="position: absolute; clip: rect(3.384em 1000.003em 4.306em -0.459em); top: -6.196em; left: 50%; margin-left: -0.51em;"><span class="mtd" id="MathJax-Span-1385"><span class="mrow" id="MathJax-Span-1386"><span class="msubsup" id="MathJax-Span-1387"><span style="display: inline-block; position: relative; width: 1.027em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1388" style="font-family: MathJax_Math; font-style: italic;">u</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.566em;"><span class="mi" id="MathJax-Span-1389" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.384em 1000.003em 4.306em -0.459em); top: -4.711em; left: 50%; margin-left: -0.51em;"><span class="mtd" id="MathJax-Span-1403"><span class="mrow" id="MathJax-Span-1404"><span class="msubsup" id="MathJax-Span-1405"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1406" style="font-family: MathJax_Math; font-style: italic;">v</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.515em;"><span class="mi" id="MathJax-Span-1407" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.384em 1000.003em 4.306em -0.459em); top: -3.174em; left: 50%; margin-left: -0.561em;"><span class="mtd" id="MathJax-Span-1421"><span class="mrow" id="MathJax-Span-1422"><span class="msubsup" id="MathJax-Span-1423"><span style="display: inline-block; position: relative; width: 1.078em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1424" style="font-family: MathJax_Math; font-style: italic;">n</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.617em;"><span class="mi" id="MathJax-Span-1425" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -0.459em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1439"><span class="mrow" id="MathJax-Span-1440"><span class="mn" id="MathJax-Span-1441" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.945em;"></span></span><span style="position: absolute; clip: rect(3.179em 1000.003em 8.404em -0.459em); top: -5.94em; left: 2.103em;"><span style="display: inline-block; position: relative; width: 1.078em; height: 0px;"><span style="position: absolute; clip: rect(3.384em 1000.003em 4.46em -0.459em); top: -6.196em; left: 50%; margin-left: -0.51em;"><span class="mtd" id="MathJax-Span-1390"><span class="mrow" id="MathJax-Span-1391"><span class="msubsup" id="MathJax-Span-1392"><span style="display: inline-block; position: relative; width: 1.027em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1393" style="font-family: MathJax_Math; font-style: italic;">u</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.566em;"><span class="mi" id="MathJax-Span-1394" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.384em 1000.003em 4.46em -0.459em); top: -4.711em; left: 50%; margin-left: -0.51em;"><span class="mtd" id="MathJax-Span-1408"><span class="mrow" id="MathJax-Span-1409"><span class="msubsup" id="MathJax-Span-1410"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1411" style="font-family: MathJax_Math; font-style: italic;">v</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.515em;"><span class="mi" id="MathJax-Span-1412" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.384em 1000.003em 4.46em -0.459em); top: -3.174em; left: 50%; margin-left: -0.561em;"><span class="mtd" id="MathJax-Span-1426"><span class="mrow" id="MathJax-Span-1427"><span class="msubsup" id="MathJax-Span-1428"><span style="display: inline-block; position: relative; width: 1.078em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1429" style="font-family: MathJax_Math; font-style: italic;">n</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.617em;"><span class="mi" id="MathJax-Span-1430" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -0.459em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1442"><span class="mrow" id="MathJax-Span-1443"><span class="mn" id="MathJax-Span-1444" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.945em;"></span></span><span style="position: absolute; clip: rect(3.179em 1000.003em 8.404em -0.459em); top: -5.94em; left: 4.203em;"><span style="display: inline-block; position: relative; width: 1.078em; height: 0px;"><span style="position: absolute; clip: rect(3.384em 1000.003em 4.306em -0.459em); top: -6.196em; left: 50%; margin-left: -0.51em;"><span class="mtd" id="MathJax-Span-1395"><span class="mrow" id="MathJax-Span-1396"><span class="msubsup" id="MathJax-Span-1397"><span style="display: inline-block; position: relative; width: 1.027em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1398" style="font-family: MathJax_Math; font-style: italic;">u</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.566em;"><span class="mi" id="MathJax-Span-1399" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.384em 1000.003em 4.306em -0.459em); top: -4.711em; left: 50%; margin-left: -0.51em;"><span class="mtd" id="MathJax-Span-1413"><span class="mrow" id="MathJax-Span-1414"><span class="msubsup" id="MathJax-Span-1415"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1416" style="font-family: MathJax_Math; font-style: italic;">v</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.515em;"><span class="mi" id="MathJax-Span-1417" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.384em 1000.003em 4.306em -0.459em); top: -3.174em; left: 50%; margin-left: -0.561em;"><span class="mtd" id="MathJax-Span-1431"><span class="mrow" id="MathJax-Span-1432"><span class="msubsup" id="MathJax-Span-1433"><span style="display: inline-block; position: relative; width: 1.078em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1434" style="font-family: MathJax_Math; font-style: italic;">n</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.149em; left: 0.617em;"><span class="mi" id="MathJax-Span-1435" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.308em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -0.459em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1445"><span class="mrow" id="MathJax-Span-1446"><span class="mn" id="MathJax-Span-1447" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.945em;"></span></span><span style="position: absolute; clip: rect(3.128em 1000.003em 8.609em -0.407em); top: -6.145em; left: 6.304em;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -4.967em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1400"><span class="mrow" id="MathJax-Span-1401"><span class="mn" id="MathJax-Span-1402" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -3.481em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1418"><span class="mrow" id="MathJax-Span-1419"><span class="mn" id="MathJax-Span-1420" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -1.944em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1436"><span class="mrow" id="MathJax-Span-1437"><span class="mn" id="MathJax-Span-1438" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.356em); top: -0.459em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1448"><span class="mrow" id="MathJax-Span-1449"><span class="mn" id="MathJax-Span-1450" style="font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 6.15em;"></span></span></span></span><span class="mo" id="MathJax-Span-1451" style="vertical-align: 2.974em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.822em; left: 0.003em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.688em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.176em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.715em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.202em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span><span class="mrow" id="MathJax-Span-1452" style="padding-left: 0.156em;"><span class="mo" id="MathJax-Span-1453" style="vertical-align: 2.871em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.566em; left: 0.003em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.561em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mtable" id="MathJax-Span-1454" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.72em; height: 0px;"><span style="position: absolute; clip: rect(2.974em 1000.003em 7.943em -0.459em); top: -5.633em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 0.72em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -4.608em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1455"><span class="mrow" id="MathJax-Span-1456"><span class="mi" id="MathJax-Span-1457" style="font-family: MathJax_Math; font-style: italic;">x</span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -3.225em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1458"><span class="mrow" id="MathJax-Span-1459"><span class="mi" id="MathJax-Span-1460" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -1.79em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1461"><span class="mrow" id="MathJax-Span-1462"><span class="mi" id="MathJax-Span-1463" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -0.407em; left: 50%; margin-left: -0.356em;"><span class="mtd" id="MathJax-Span-1464"><span class="mrow" id="MathJax-Span-1465"><span class="mi" id="MathJax-Span-1466" style="font-family: MathJax_Math; font-style: italic;">w</span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.638em;"></span></span></span></span><span class="mo" id="MathJax-Span-1467" style="vertical-align: 2.871em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.566em; left: 0.003em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.561em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 5.433em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 6.816em; vertical-align: -3.122em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-80">\begin{equation*}
\begin{bmatrix}x' \\ y' \\ z' \\ w'\end{bmatrix} =
\begin{bmatrix}
  u_x & u_y & u_z & 0 \\
  v_x & v_y & v_z & 0 \\
  n_x & n_y & n_z & 0 \\
  0 & 0 & 0 & 1
\end{bmatrix}
\begin{bmatrix}x \\ y \\ z \\ w\end{bmatrix}
\end{equation*}</script>

</p><p>
After multiplying an object by this transformation matrix, its coordinates are
now in view space.

</p><p>
</p><h2>Perspective projection</h2>

<p>
There is a final transform, a projection into <i>normalized device
coordinates</i> (NDC). In NDC, all coordinates within the viewing space are mapped to
a cube, spanning from <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-81-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1468" style="width: 1.642em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.335em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.356em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1469"><span class="mo" id="MathJax-Span-1470" style="font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-1471" style="font-family: MathJax_Main;">1</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-81">-1</script> to <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-82-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1472" style="width: 0.669em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.356em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1473"><span class="mn" id="MathJax-Span-1474" style="font-family: MathJax_Main;">1</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-82">1</script> along each axis. This requires transforming
the <i><a href="http://en.wikipedia.org/wiki/Viewing_frustum">viewing
frustum</a></i>, which is a chopped-pyramid shape defining the 3d region of
space that the camera sees, into a cube.

</p><p>
We'll restrict ourselves to the common case of a symmetric viewing frustum.
When symmetric, it is defined by four values: the <i>near</i> and <i>far</i>
distances specify the near and far planes, between which objects are viewable.
Then, the <i>width</i> and <i>height</i> specify the dimensions of the near
viewing plane.

</p><p>
How do we choose those? The <i>near</i> and <i>far</i> are freely chosen based
on what kind of depths we want to be viewable. They are given as negative
numbers, because in a right-handed coordinate system (the default used by most
modeling software and engines), the <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-83-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1475" style="width: 0.669em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1476"><span class="mi" id="MathJax-Span-1477" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-83">z</script> axis going into the screen is
negative. (Note that some APIs hide this step. For example, you give
OpenGL positive values for the near and far planes, and it internally negates
them.) The <i>width</i> and <i>height</i> control the aspect ratio and the
field of view.  We can also go the other way around, and calculate <i>width</i>
and <i>height</i> from a desired aspect ratio, and a desired field of view. For
example, it's common to use a horizontal field of view of 75 or 90 degrees, and
an aspect ratio equal to the aspect ratio of your screen. If you have a desired
horizontal field of view of <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-84-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1478" style="width: 2.001em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.642em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.693em 1000.003em 2.923em -0.407em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1479"><span class="mi" id="MathJax-Span-1480" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span class="mi" id="MathJax-Span-1481" style="font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-1482" style="font-family: MathJax_Math; font-style: italic;">v</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.253em; vertical-align: -0.309em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-84">fov</script> and width-to-height aspect ratio of <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-85-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1483" style="width: 0.566em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.464em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1484"><span class="mi" id="MathJax-Span-1485" style="font-family: MathJax_Math; font-style: italic;">r</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-85">r</script>, then by basic geometry,

<span class="MathJax_Preview"></span><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-86-Frame"><nobr><span class="math" id="MathJax-Span-1486" style="width: 16.96em; display: inline-block;"><span style="display: inline-block; position: relative; width: 13.886em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(-0.407em 1000.003em 4.306em -0.305em); top: -2.2em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1487"><span class="mtable" id="MathJax-Span-1488" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 13.527em; height: 0px;"><span style="position: absolute; clip: rect(2.308em 1000.003em 5.894em -0.459em); top: -4.249em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 2.974em; height: 0px;"><span style="position: absolute; clip: rect(1.693em 1000.003em 2.718em -0.459em); top: -3.635em; right: 0.003em;"><span class="mtd" id="MathJax-Span-1489"><span class="mrow" id="MathJax-Span-1490"><span class="mi" id="MathJax-Span-1491" style="font-family: MathJax_Math; font-style: italic;">w</span><span class="mi" id="MathJax-Span-1492" style="font-family: MathJax_Math; font-style: italic;">i</span><span class="mi" id="MathJax-Span-1493" style="font-family: MathJax_Math; font-style: italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1494" style="font-family: MathJax_Math; font-style: italic;">t</span><span class="mi" id="MathJax-Span-1495" style="font-family: MathJax_Math; font-style: italic;">h</span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(1.693em 1000.003em 2.923em -0.407em); top: -1.278em; right: 0.003em;"><span class="mtd" id="MathJax-Span-1517"><span class="mrow" id="MathJax-Span-1518"><span class="mi" id="MathJax-Span-1519" style="font-family: MathJax_Math; font-style: italic;">h</span><span class="mi" id="MathJax-Span-1520" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mi" id="MathJax-Span-1521" style="font-family: MathJax_Math; font-style: italic;">i</span><span class="mi" id="MathJax-Span-1522" style="font-family: MathJax_Math; font-style: italic;">g<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1523" style="font-family: MathJax_Math; font-style: italic;">h</span><span class="mi" id="MathJax-Span-1524" style="font-family: MathJax_Math; font-style: italic;">t</span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.255em;"></span></span><span style="position: absolute; clip: rect(2.82em 1000.003em 7.533em -0.202em); top: -5.428em; left: 2.974em;"><span style="display: inline-block; position: relative; width: 10.556em; height: 0px;"><span style="position: absolute; clip: rect(1.232em 1000.003em 3.589em -0.202em); top: -3.84em; left: 0.003em;"><span class="mtd" id="MathJax-Span-1496"><span class="mrow" id="MathJax-Span-1497"><span class="mo" id="MathJax-Span-1498" style="font-family: MathJax_Main; padding-left: 0.207em; padding-right: 0.361em;">=</span><span class="mo" id="MathJax-Span-1499" style="font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-1500" style="font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-1501" style="font-family: MathJax_Main; padding-left: 0.207em;">⋅</span><span class="mi" id="MathJax-Span-1502" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.207em;">n</span><span class="mi" id="MathJax-Span-1503" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mi" id="MathJax-Span-1504" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-1505" style="font-family: MathJax_Math; font-style: italic;">r</span><span class="mo" id="MathJax-Span-1506" style="font-family: MathJax_Main; padding-left: 0.207em;">⋅</span><span class="mi" id="MathJax-Span-1507" style="font-family: MathJax_Main; padding-left: 0.207em;">tan</span><span class="mo" id="MathJax-Span-1508"></span><span class="mo" id="MathJax-Span-1509" style="font-family: MathJax_Main;">(</span><span class="mfrac" id="MathJax-Span-1510"><span style="display: inline-block; position: relative; width: 1.744em; height: 0px; margin-right: 0.105em; margin-left: 0.105em;"><span style="position: absolute; clip: rect(1.693em 1000.003em 2.923em -0.407em); top: -3.225em; left: 50%; margin-left: -0.817em;"><span class="mrow" id="MathJax-Span-1511"><span class="mi" id="MathJax-Span-1512" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span class="mi" id="MathJax-Span-1513" style="font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-1514" style="font-family: MathJax_Math; font-style: italic;">v</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -2.098em; left: 50%; margin-left: -0.254em;"><span class="mn" id="MathJax-Span-1515" style="font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(0.873em 1000.003em 1.232em -0.459em); top: -1.278em; left: 0.003em;"><span style="border-left-width: 1.744em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.078em;"></span></span></span></span><span class="mo" id="MathJax-Span-1516" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.232em 1000.003em 3.64em -0.202em); top: -1.483em; left: 0.003em;"><span class="mtd" id="MathJax-Span-1525"><span class="mrow" id="MathJax-Span-1526"><span class="mo" id="MathJax-Span-1527" style="font-family: MathJax_Main; padding-left: 0.207em; padding-right: 0.361em;">=</span><span class="mfrac" id="MathJax-Span-1528"><span style="display: inline-block; position: relative; width: 2.718em; height: 0px; margin-right: 0.105em; margin-left: 0.105em;"><span style="position: absolute; clip: rect(1.693em 1000.003em 2.718em -0.459em); top: -3.225em; left: 50%; margin-left: -1.278em;"><span class="mrow" id="MathJax-Span-1529"><span class="mi" id="MathJax-Span-1530" style="font-family: MathJax_Math; font-style: italic;">w</span><span class="mi" id="MathJax-Span-1531" style="font-family: MathJax_Math; font-style: italic;">i</span><span class="mi" id="MathJax-Span-1532" style="font-family: MathJax_Math; font-style: italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1533" style="font-family: MathJax_Math; font-style: italic;">t</span><span class="mi" id="MathJax-Span-1534" style="font-family: MathJax_Math; font-style: italic;">h</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -1.893em; left: 50%; margin-left: -0.202em;"><span class="mi" id="MathJax-Span-1535" style="font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(0.873em 1000.003em 1.232em -0.459em); top: -1.278em; left: 0.003em;"><span style="border-left-width: 2.718em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.078em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.433em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 5.566em; vertical-align: -2.434em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-86">\begin{align*}
 width &= -2 \cdot near \cdot \tan(\frac{fov}{2})\\
height &= \frac{width}{r}
\end{align*}</script>

</p><p>
Now, we have <i>near</i>, <i>far</i>, <i>width</i>, and <i>height</i>.  Given
those four values, we need to do four things, and an optional but common fifth.
They are: 1) scale the <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-87-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1536" style="width: 0.72em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1537"><span class="mi" id="MathJax-Span-1538" style="font-family: MathJax_Math; font-style: italic;">x</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-87">x</script> axis to <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-88-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1539" style="width: 3.589em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.923em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.847em 1000.003em 3.179em -0.356em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1540"><span class="mo" id="MathJax-Span-1541" style="font-family: MathJax_Main;">[</span><span class="mo" id="MathJax-Span-1542" style="font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-1543" style="font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-1544" style="font-family: MathJax_Main;">,</span><span class="mn" id="MathJax-Span-1545" style="font-family: MathJax_Main; padding-left: 0.156em;">1</span><span class="mo" id="MathJax-Span-1546" style="font-family: MathJax_Main;">]</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.378em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-88">[-1,1]</script> according to the width and distance
of the near plane; 2) scale the <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-89-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1547" style="width: 0.72em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1548"><span class="mi" id="MathJax-Span-1549" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.309em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-89">y</script> axis to <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-90-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1550" style="width: 3.589em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.923em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.847em 1000.003em 3.179em -0.356em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1551"><span class="mo" id="MathJax-Span-1552" style="font-family: MathJax_Main;">[</span><span class="mo" id="MathJax-Span-1553" style="font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-1554" style="font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-1555" style="font-family: MathJax_Main;">,</span><span class="mn" id="MathJax-Span-1556" style="font-family: MathJax_Main; padding-left: 0.156em;">1</span><span class="mo" id="MathJax-Span-1557" style="font-family: MathJax_Main;">]</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.378em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-90">[-1,1]</script> according to the height
and distance of the near plane; 3) center the <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-91-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1558" style="width: 0.669em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1559"><span class="mi" id="MathJax-Span-1560" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-91">z</script> axis between the near and far
planes and scale it to <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-92-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1561" style="width: 3.589em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.923em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.847em 1000.003em 3.179em -0.356em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1562"><span class="mo" id="MathJax-Span-1563" style="font-family: MathJax_Main;">[</span><span class="mo" id="MathJax-Span-1564" style="font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-1565" style="font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-1566" style="font-family: MathJax_Main;">,</span><span class="mn" id="MathJax-Span-1567" style="font-family: MathJax_Main; padding-left: 0.156em;">1</span><span class="mo" id="MathJax-Span-1568" style="font-family: MathJax_Main;">]</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.378em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-92">[-1,1]</script>; and finally 4) apply perspective scaling so
objects further from the viewer look smaller. In addition, we usually reflect
the scene so that positive <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-93-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1569" style="width: 0.669em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1570"><span class="mi" id="MathJax-Span-1571" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-93">z</script> goes into the screen: this converts it to a
<i>left-handed</i> coordinate system where <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-94-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1572" style="width: 0.669em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1573"><span class="mi" id="MathJax-Span-1574" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-94">z</script> depths are positive, which is
more convenient for rendering.

</p><p>
We won't go over the mathematical derivation of the projection matrix that
performs these transformations (the references at the end of this document do
go over it), but the end result is:

<span class="MathJax_Preview"></span><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-95-Frame"><nobr><span class="math" id="MathJax-Span-1575" style="width: 40.013em; display: inline-block;"><span style="display: inline-block; position: relative; width: 32.789em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(2.308em 1000.003em 11.427em -0.459em); top: -7.118em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1576"><span class="mrow" id="MathJax-Span-1577"><span class="mo" id="MathJax-Span-1578" style="vertical-align: 2.871em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.617em; left: 0.003em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.51em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mtable" id="MathJax-Span-1579" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(3.025em 1000.003em 8.404em -0.459em); top: -6.043em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.407em); top: -6.043em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-1580"><span class="mrow" id="MathJax-Span-1581"><span class="msup" id="MathJax-Span-1582"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1583" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.566em;"><span class="mo" id="MathJax-Span-1584" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.357em -0.459em); top: -4.659em; left: 50%; margin-left: -0.459em;"><span class="mtd" id="MathJax-Span-1585"><span class="mrow" id="MathJax-Span-1586"><span class="msup" id="MathJax-Span-1587"><span style="display: inline-block; position: relative; width: 0.873em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1588" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.617em;"><span class="mo" id="MathJax-Span-1589" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.407em); top: -3.225em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-1590"><span class="mrow" id="MathJax-Span-1591"><span class="msup" id="MathJax-Span-1592"><span style="display: inline-block; position: relative; width: 0.822em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1593" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.566em;"><span class="mo" id="MathJax-Span-1594" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.025em 1000.003em 4.152em -0.459em); top: -1.842em; left: 50%; margin-left: -0.51em;"><span class="mtd" id="MathJax-Span-1595"><span class="mrow" id="MathJax-Span-1596"><span class="msup" id="MathJax-Span-1597"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1598" style="font-family: MathJax_Math; font-style: italic;">w</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.764em; left: 0.72em;"><span class="mo" id="MathJax-Span-1599" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span><span style="display: inline-block; width: 0px; height: 6.048em;"></span></span></span></span><span class="mo" id="MathJax-Span-1600" style="vertical-align: 2.871em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.617em; left: 0.003em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.51em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span><span class="mo" id="MathJax-Span-1601" style="font-family: MathJax_Main; padding-left: 0.259em;">=</span><span class="mrow" id="MathJax-Span-1602" style="padding-left: 0.259em;"><span class="mo" id="MathJax-Span-1603" style="vertical-align: 4.664em; padding-left: 0.259em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 4.203em; left: 0.003em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.688em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.124em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.612em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.049em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: 0.464em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: 0.976em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: 1.539em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: 2.052em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: 2.564em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: 3.128em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mtable" id="MathJax-Span-1604" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 24.234em; height: 0px;"><span style="position: absolute; clip: rect(4.818em 1000.003em 13.783em -0.459em); top: -9.629em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 3.691em; height: 0px;"><span style="position: absolute; clip: rect(2.513em 1000.003em 4.869em -0.459em); top: -7.323em; left: 50%; margin-left: -1.842em;"><span class="mtd" id="MathJax-Span-1605"><span class="mrow" id="MathJax-Span-1606"><span class="mfrac" id="MathJax-Span-1607"><span style="display: inline-block; position: relative; width: 3.435em; height: 0px; margin-right: 0.105em; margin-left: 0.105em;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -3.43em; left: 50%; margin-left: -1.637em;"><span class="mrow" id="MathJax-Span-1608"><span class="mn" id="MathJax-Span-1609" style="font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-1610" style="font-family: MathJax_Main; padding-left: 0.207em;">⋅</span><span class="mi" id="MathJax-Span-1611" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.207em;">n</span><span class="mi" id="MathJax-Span-1612" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mi" id="MathJax-Span-1613" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-1614" style="font-family: MathJax_Math; font-style: italic;">r</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.693em 1000.003em 2.718em -0.459em); top: -1.893em; left: 50%; margin-left: -1.278em;"><span class="mrow" id="MathJax-Span-1615"><span class="mi" id="MathJax-Span-1616" style="font-family: MathJax_Math; font-style: italic;">w</span><span class="mi" id="MathJax-Span-1617" style="font-family: MathJax_Math; font-style: italic;">i</span><span class="mi" id="MathJax-Span-1618" style="font-family: MathJax_Math; font-style: italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1619" style="font-family: MathJax_Math; font-style: italic;">t</span><span class="mi" id="MathJax-Span-1620" style="font-family: MathJax_Math; font-style: italic;">h</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(0.873em 1000.003em 1.232em -0.459em); top: -1.278em; left: 0.003em;"><span style="border-left-width: 3.435em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.078em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -3.635em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1630"><span class="mrow" id="MathJax-Span-1631"><span class="mn" id="MathJax-Span-1632" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -0.868em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1656"><span class="mrow" id="MathJax-Span-1657"><span class="mn" id="MathJax-Span-1658" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: 1.181em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1710"><span class="mrow" id="MathJax-Span-1711"><span class="mn" id="MathJax-Span-1712" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 9.634em;"></span></span><span style="position: absolute; clip: rect(4.818em 1000.003em 13.117em -0.459em); top: -8.963em; left: 4.716em;"><span style="display: inline-block; position: relative; width: 3.691em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -6.094em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1621"><span class="mrow" id="MathJax-Span-1622"><span class="mn" id="MathJax-Span-1623" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(2.513em 1000.003em 5.023em -0.459em); top: -4.864em; left: 50%; margin-left: -1.842em;"><span class="mtd" id="MathJax-Span-1633"><span class="mrow" id="MathJax-Span-1634"><span class="mfrac" id="MathJax-Span-1635"><span style="display: inline-block; position: relative; width: 3.435em; height: 0px; margin-right: 0.105em; margin-left: 0.105em;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -3.43em; left: 50%; margin-left: -1.637em;"><span class="mrow" id="MathJax-Span-1636"><span class="mn" id="MathJax-Span-1637" style="font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-1638" style="font-family: MathJax_Main; padding-left: 0.207em;">⋅</span><span class="mi" id="MathJax-Span-1639" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.207em;">n</span><span class="mi" id="MathJax-Span-1640" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mi" id="MathJax-Span-1641" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-1642" style="font-family: MathJax_Math; font-style: italic;">r</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.693em 1000.003em 2.923em -0.407em); top: -1.893em; left: 50%; margin-left: -1.483em;"><span class="mrow" id="MathJax-Span-1643"><span class="mi" id="MathJax-Span-1644" style="font-family: MathJax_Math; font-style: italic;">h</span><span class="mi" id="MathJax-Span-1645" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mi" id="MathJax-Span-1646" style="font-family: MathJax_Math; font-style: italic;">i</span><span class="mi" id="MathJax-Span-1647" style="font-family: MathJax_Math; font-style: italic;">g<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1648" style="font-family: MathJax_Math; font-style: italic;">h</span><span class="mi" id="MathJax-Span-1649" style="font-family: MathJax_Math; font-style: italic;">t</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(0.873em 1000.003em 1.232em -0.459em); top: -1.278em; left: 0.003em;"><span style="border-left-width: 3.435em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.078em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -0.868em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1659"><span class="mrow" id="MathJax-Span-1660"><span class="mn" id="MathJax-Span-1661" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: 1.181em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1713"><span class="mrow" id="MathJax-Span-1714"><span class="mn" id="MathJax-Span-1715" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 8.968em;"></span></span><span style="position: absolute; clip: rect(4.818em 1000.003em 13.066em -0.459em); top: -8.963em; left: 9.378em;"><span style="display: inline-block; position: relative; width: 6.97em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -6.094em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1624"><span class="mrow" id="MathJax-Span-1625"><span class="mn" id="MathJax-Span-1626" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -3.635em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1650"><span class="mrow" id="MathJax-Span-1651"><span class="mn" id="MathJax-Span-1652" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(2.359em 1000.003em 5.023em -0.459em); top: -2.098em; left: 50%; margin-left: -3.481em;"><span class="mtd" id="MathJax-Span-1662"><span class="mrow" id="MathJax-Span-1663"><span class="mfrac" id="MathJax-Span-1664"><span style="display: inline-block; position: relative; width: 6.714em; height: 0px; margin-right: 0.105em; margin-left: 0.105em;"><span style="position: absolute; clip: rect(1.847em 1000.003em 3.179em -0.356em); top: -3.481em; left: 50%; margin-left: -3.276em;"><span class="mrow" id="MathJax-Span-1665"><span class="mo" id="MathJax-Span-1666" style="font-family: MathJax_Main;">−</span><span class="mo" id="MathJax-Span-1667" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-1668" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span class="mi" id="MathJax-Span-1669" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-1670" style="font-family: MathJax_Math; font-style: italic;">r</span><span class="mo" id="MathJax-Span-1671" style="font-family: MathJax_Main; padding-left: 0.207em;">+</span><span class="mi" id="MathJax-Span-1672" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.207em;">n</span><span class="mi" id="MathJax-Span-1673" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mi" id="MathJax-Span-1674" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-1675" style="font-family: MathJax_Math; font-style: italic;">r</span><span class="mo" id="MathJax-Span-1676" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.898em 1000.003em 3.128em -0.407em); top: -2.098em; left: 50%; margin-left: -2.456em;"><span class="mrow" id="MathJax-Span-1677"><span class="mi" id="MathJax-Span-1678" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span class="mi" id="MathJax-Span-1679" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-1680" style="font-family: MathJax_Math; font-style: italic;">r</span><span class="mo" id="MathJax-Span-1681" style="font-family: MathJax_Main; padding-left: 0.207em;">−</span><span class="mi" id="MathJax-Span-1682" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.207em;">n</span><span class="mi" id="MathJax-Span-1683" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mi" id="MathJax-Span-1684" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-1685" style="font-family: MathJax_Math; font-style: italic;">r</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(0.873em 1000.003em 1.232em -0.459em); top: -1.278em; left: 0.003em;"><span style="border-left-width: 6.714em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.078em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.356em); top: 1.181em; left: 50%; margin-left: -0.663em;"><span class="mtd" id="MathJax-Span-1716"><span class="mrow" id="MathJax-Span-1717"><span class="mo" id="MathJax-Span-1718" style="font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-1719" style="font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 8.968em;"></span></span><span style="position: absolute; clip: rect(4.818em 1000.003em 13.117em -0.459em); top: -8.963em; left: 17.369em;"><span style="display: inline-block; position: relative; width: 6.867em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -6.094em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1627"><span class="mrow" id="MathJax-Span-1628"><span class="mn" id="MathJax-Span-1629" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: -3.635em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1653"><span class="mrow" id="MathJax-Span-1654"><span class="mn" id="MathJax-Span-1655" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(2.462em 1000.003em 5.023em -0.459em); top: -2.098em; left: 50%; margin-left: -3.43em;"><span class="mtd" id="MathJax-Span-1686"><span class="mrow" id="MathJax-Span-1687"><span class="mfrac" id="MathJax-Span-1688"><span style="display: inline-block; position: relative; width: 6.611em; height: 0px; margin-right: 0.105em; margin-left: 0.105em;"><span style="position: absolute; clip: rect(1.898em 1000.003em 3.128em -0.356em); top: -3.43em; left: 50%; margin-left: -3.225em;"><span class="mrow" id="MathJax-Span-1689"><span class="mo" id="MathJax-Span-1690" style="font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-1691" style="font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-1692" style="font-family: MathJax_Main; padding-left: 0.207em;">⋅</span><span class="mi" id="MathJax-Span-1693" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.207em;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span class="mi" id="MathJax-Span-1694" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-1695" style="font-family: MathJax_Math; font-style: italic;">r</span><span class="mo" id="MathJax-Span-1696" style="font-family: MathJax_Main; padding-left: 0.207em;">⋅</span><span class="mi" id="MathJax-Span-1697" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.207em;">n</span><span class="mi" id="MathJax-Span-1698" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mi" id="MathJax-Span-1699" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-1700" style="font-family: MathJax_Math; font-style: italic;">r</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(1.898em 1000.003em 3.128em -0.407em); top: -2.098em; left: 50%; margin-left: -2.456em;"><span class="mrow" id="MathJax-Span-1701"><span class="mi" id="MathJax-Span-1702" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span class="mi" id="MathJax-Span-1703" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-1704" style="font-family: MathJax_Math; font-style: italic;">r</span><span class="mo" id="MathJax-Span-1705" style="font-family: MathJax_Main; padding-left: 0.207em;">−</span><span class="mi" id="MathJax-Span-1706" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.207em;">n</span><span class="mi" id="MathJax-Span-1707" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mi" id="MathJax-Span-1708" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-1709" style="font-family: MathJax_Math; font-style: italic;">r</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span><span style="position: absolute; clip: rect(0.873em 1000.003em 1.232em -0.459em); top: -1.278em; left: 0.003em;"><span style="border-left-width: 6.611em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.078em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.407em); top: 1.181em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1720"><span class="mrow" id="MathJax-Span-1721"><span class="mn" id="MathJax-Span-1722" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="display: inline-block; width: 0px; height: 8.968em;"></span></span></span></span><span class="mo" id="MathJax-Span-1723" style="vertical-align: 4.664em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 4.203em; left: 0.003em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.688em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.124em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.612em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.049em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: 0.464em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: 0.976em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: 1.539em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: 2.052em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: 2.564em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: 3.128em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span><span class="mrow" id="MathJax-Span-1724" style="padding-left: 0.156em;"><span class="mo" id="MathJax-Span-1725" style="vertical-align: 2.871em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.566em; left: 0.003em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.561em; left: 0.003em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mtable" id="MathJax-Span-1726" style="padding-right: 0.156em; padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.72em; height: 0px;"><span style="position: absolute; clip: rect(2.974em 1000.003em 7.943em -0.459em); top: -5.633em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 0.72em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -4.608em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1727"><span class="mrow" id="MathJax-Span-1728"><span class="mi" id="MathJax-Span-1729" style="font-family: MathJax_Math; font-style: italic;">x</span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -3.225em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1730"><span class="mrow" id="MathJax-Span-1731"><span class="mi" id="MathJax-Span-1732" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -1.79em; left: 50%; margin-left: -0.254em;"><span class="mtd" id="MathJax-Span-1733"><span class="mrow" id="MathJax-Span-1734"><span class="mi" id="MathJax-Span-1735" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -0.407em; left: 50%; margin-left: -0.356em;"><span class="mtd" id="MathJax-Span-1736"><span class="mrow" id="MathJax-Span-1737"><span class="mi" id="MathJax-Span-1738" style="font-family: MathJax_Math; font-style: italic;">w</span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.638em;"></span></span></span></span><span class="mo" id="MathJax-Span-1739" style="vertical-align: 2.871em;"><span style="display: inline-block; position: relative; width: 0.669em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -2.815em; left: 0.003em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: 0.566em; left: 0.003em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.637em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -1.073em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: MathJax_Size4; position: absolute; top: -0.561em; left: 0.003em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 7.123em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 10.878em; vertical-align: -5.122em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-95">\begin{equation*}
\begin{bmatrix}x' \\ y' \\ z' \\ w'\end{bmatrix} =
\begin{bmatrix}
  \frac{2 \cdot near}{width} & 0 & 0 & 0\\
  0 & \frac{2 \cdot near}{height} & 0 & 0 \\
  0 & 0 & \frac{-(far+near)}{far-near} & \frac{-2 \cdot far \cdot near}{far-near} \\
  0 & 0 & -1 & 0
\end{bmatrix}
\begin{bmatrix}x \\ y \\ z \\ w\end{bmatrix}
\end{equation*}</script>

</p><p>
Note that the perspective transform, unlike the previous transforms we
discussed, changes <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-96-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1740" style="width: 0.873em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.72em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1741"><span class="mi" id="MathJax-Span-1742" style="font-family: MathJax_Math; font-style: italic;">w</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-96">w</script>, so the new <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-97-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1743" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.027em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.283em 1000.003em 2.359em -0.459em); top: -2.2em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1744"><span class="msup" id="MathJax-Span-1745"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1746" style="font-family: MathJax_Math; font-style: italic;">w</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.713em; left: 0.72em;"><span class="mo" id="MathJax-Span-1747" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.066em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-97">w'</script> will not be 1 anymore. This requires
normalizing, by dividing through by <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-98-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1748" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.027em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.283em 1000.003em 2.359em -0.459em); top: -2.2em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1749"><span class="msup" id="MathJax-Span-1750"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1751" style="font-family: MathJax_Math; font-style: italic;">w</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.713em; left: 0.72em;"><span class="mo" id="MathJax-Span-1752" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.066em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-98">w'</script>.

</p><p>
</p><h2>Clip space</h2>

<p>
An optional optimization: we can actually remove points
that are outside of the viewable region (called frustum culling, or clipping)
before normalizing.  The space of un-normalized homogeneous coordinates that we
get after multiplying by the projection matrix, but before normalizing, is
called the <i>clip space</i>. A point should be culled if its clip space
coordinate, on any axis, is outside the range <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-99-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1753" style="width: 4.767em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.896em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.847em 1000.003em 3.179em -0.356em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1754"><span class="mo" id="MathJax-Span-1755" style="font-family: MathJax_Main;">[</span><span class="mo" id="MathJax-Span-1756" style="font-family: MathJax_Main;">−</span><span class="msup" id="MathJax-Span-1757"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1758" style="font-family: MathJax_Math; font-style: italic;">w</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.713em; left: 0.72em;"><span class="mo" id="MathJax-Span-1759" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span><span class="mo" id="MathJax-Span-1760" style="font-family: MathJax_Main;">,</span><span class="msup" id="MathJax-Span-1761" style="padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1762" style="font-family: MathJax_Math; font-style: italic;">w</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.713em; left: 0.72em;"><span class="mo" id="MathJax-Span-1763" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span><span class="mo" id="MathJax-Span-1764" style="font-family: MathJax_Main;">]</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.378em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-99">[-w',w']</script>.  This saves us from
doing potentially many wasted division operations, from normalizing points that
are just going to be culled anyway. The reason why we can do this is simple. In
normalized device coordinates, the viewable space has been mapped to the cube
that spans <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-100-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1765" style="width: 3.589em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.923em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.847em 1000.003em 3.179em -0.356em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1766"><span class="mo" id="MathJax-Span-1767" style="font-family: MathJax_Main;">[</span><span class="mo" id="MathJax-Span-1768" style="font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-1769" style="font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-1770" style="font-family: MathJax_Main;">,</span><span class="mn" id="MathJax-Span-1771" style="font-family: MathJax_Main; padding-left: 0.156em;">1</span><span class="mo" id="MathJax-Span-1772" style="font-family: MathJax_Main;">]</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.378em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-100">[-1,1]</script> on each axis.  Therefore, before the normalization by <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-101-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1773" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.027em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.283em 1000.003em 2.359em -0.459em); top: -2.2em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1774"><span class="msup" id="MathJax-Span-1775"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1776" style="font-family: MathJax_Math; font-style: italic;">w</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.713em; left: 0.72em;"><span class="mo" id="MathJax-Span-1777" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.066em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-101">w'</script>,
this is equivalent to a cube spanning <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-102-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1778" style="width: 4.767em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.896em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.847em 1000.003em 3.179em -0.356em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1779"><span class="mo" id="MathJax-Span-1780" style="font-family: MathJax_Main;">[</span><span class="mo" id="MathJax-Span-1781" style="font-family: MathJax_Main;">−</span><span class="msup" id="MathJax-Span-1782"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1783" style="font-family: MathJax_Math; font-style: italic;">w</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.713em; left: 0.72em;"><span class="mo" id="MathJax-Span-1784" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span><span class="mo" id="MathJax-Span-1785" style="font-family: MathJax_Main;">,</span><span class="msup" id="MathJax-Span-1786" style="padding-left: 0.156em;"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1787" style="font-family: MathJax_Math; font-style: italic;">w</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.713em; left: 0.72em;"><span class="mo" id="MathJax-Span-1788" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span><span class="mo" id="MathJax-Span-1789" style="font-family: MathJax_Main;">]</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.378em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-102">[-w',w']</script> on each axis. So frustum
culling becomes a simple comparison with <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-103-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1790" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.027em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.283em 1000.003em 2.359em -0.459em); top: -2.2em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1791"><span class="msup" id="MathJax-Span-1792"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.459em); top: -2.559em; left: 0.003em;"><span class="mi" id="MathJax-Span-1793" style="font-family: MathJax_Math; font-style: italic;">w</span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span><span style="position: absolute; top: -2.713em; left: 0.72em;"><span class="mo" id="MathJax-Span-1794" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.359em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.205em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.066em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-103">w'</script>. Then we normalize as usual, but
only the points that weren't culled.

</p><p>
</p><h2>Screen coordinates</h2>

<p>
Finally, we have normalized device coordinates, which are almost the final
result. All that's left is to draw them to the screen. The <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-104-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1795" style="width: 0.72em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1796"><span class="mi" id="MathJax-Span-1797" style="font-family: MathJax_Math; font-style: italic;">x</span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-104">x</script> and <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-105-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1798" style="width: 0.72em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.566em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.459em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1799"><span class="mi" id="MathJax-Span-1800" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.309em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-105">y</script> axes are
mapped to screen pixels, according to the width and height of the screen, with
<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-106-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1801" style="width: 1.642em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.335em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.923em -0.356em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1802"><span class="mo" id="MathJax-Span-1803" style="font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-1804" style="font-family: MathJax_Main;">1</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-106">-1</script> representing the left/top edge and <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-107-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1805" style="width: 1.642em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.335em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 3.025em -0.407em); top: -2.764em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1806"><span class="mo" id="MathJax-Span-1807" style="font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-1808" style="font-family: MathJax_Main;">1</span></span><span style="display: inline-block; width: 0px; height: 2.769em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.066em; vertical-align: -0.184em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-107">+1</script> the right/bottom edge. To avoid
distortion, these should be at the same aspect ratio that was used to construct
the projection matrix. And, the <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-108-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1809" style="width: 0.669em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.515em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.949em 1000.003em 2.718em -0.407em); top: -2.559em; left: 0.003em;"><span class="mrow" id="MathJax-Span-1810"><span class="mi" id="MathJax-Span-1811" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.564em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.691em; vertical-align: -0.059em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-108">z</script> axis provides the depth values indicating
how far from the camera each point is. That would be needed if we were going
beyond a wireframe renderer, and drawing opaque surfaces where it would be
necessary to know which surfaces are behind others.

</p><p>
</p><h2>Wireframe rendering pseudocode</h2>

<p>
Tying it all together, to render a scene, we need four things: a list of
triangles to render (in 3d world coordinates), the location of the camera in
the world, a point that the camera is looking at, and the up direction of the
camera.

</p><p>
We need to transform the triangle's 3d points to 2d screen coordinates, in
order to draw them on screen (or to an image).  The transformation from 3d
coordinates to 2d points is carried out via the view and perspective transforms
discussed above.

</p><p>
We can build the overall rendering transform out of three intermediate transformation matrices:

</p><ul>
<li><code>cameraLocationTransform</code>: Sets the camera at the origin. This is
just a translation matrix.
</li><li><code>cameraLookTransform</code>: Points the camera towards
the <i>look point</i>, with the correct <i>up</i> direction. This one requires
some vector math to build the transformation matrix, as explained in the "View
space" section above.
</li><li><code>perspectiveTransform</code>: Adds perspective to the view and
converts to normalized device coordinates. This
transformation matrix is the one shown in the "Perspective projection" section
above.
</li></ul>

<p>
Once those matrices are computed, we can do wireframe rendering with this pseudocode:

</p><pre>foreach triangle in triangles
{
  foreach vertex in triangle.vertices
  {
    // apply the view and perspective transforms
    vertexViewSpace = perspectiveTransform * cameraLookTransform
                      * cameraLocationTransform * vertex

    // normalize by dividing through by the homogeneous coordinate w
    vertexViewSpace.x = vertexViewSpace.x / vertexViewSpace.w
    vertexViewSpace.y = vertexViewSpace.y / vertexViewSpace.w
    vertexViewSpace.z = vertexViewSpace.z / vertexViewSpace.w

    if any of .x/.y/.z are outside the range [-1,1]
       skip to next vertex

    // now map [-1,1] into the screen coordinates (0,width) and (0,height)
    // where (0,0) is the top-left corner of the screen
    screenCoordinate.x = vertexViewSpace.x * (width/2.0) + (width/2.0)
    screenCoordinate.y = -vertexViewSpace.y * (height/2.0) + (height/2.0)
    
    drawPoint(screenCoordinate)
  }
  draw three lines connecting the three vertices' 2d coordinates
}
</pre>

<p>
And that, which turns out not to be all that much code once you understand it,
is a fully self-contained, wireframe 3d renderer.

</p><p>
</p><h2>Further reading</h2>

<p>
This article is, by design, a bit of a whirlwind tour of the entire process. If
you'd like a more detailed exposition, including mathematical derivations of
each step, there are a number of good sources:

</p><p>
<i><a href="http://www.amazon.com/dp/1568814135/?tag=kmjn-20">Game Engine
Architecture</a></i> by Jason Gregory (AK Peters, 2009), Chapter 3, "3d Math
for Games", provides an overview of matrix mathematics and an introduction to
transformation matrices, homogeneous coordinates, and the affine transforms.

</p><p>
<i><a href="http://www.amazon.com/dp/027375226X/?tag=kmjn-20">Interactive
Computer Graphics: A Top-Down Approach with Shader-Based OpenGL</a></i> by
Edward Angel and Dave Shreiner (Addison-Wesley, 2011), Chapter 3, "Geometric
Objects and Transformations", also provides an overview of matrix mathematics
and geometric transforms, with a somewhat more mathematics-heavy approach
grounded in linear algebra.

</p><p>
In the same Angel &amp; Shreiner book, Chapter 4, "Viewing", provides an
extensive introduction to cameras, viewing, perspective transforms, and related
topics.

</p><p>
Song Ho Ahn's <a href="http://www.songho.ca/opengl/index.html">OpenGL
tutorials</a> provide a description of what goes on inside OpenGL's
implementation of 3d rendering. The section on "Transformation", in particular,
traces the series of transformations from object coordinates through to screen
coordinates.


    </p></div>
    <p>
    </p><hr>
    <div id="sig"><a href="http://www.kmjn.org/">Mark J. Nelson</a>, 2012-10-26.</div>
    <div id="comments">Comments welcome: mjas@itu.dk</div>
    <div id="toindex"><a href="http://www.kmjn.org/notes/index.html">&lt;Note index&gt;</a></div>
    <div style="clear: both;"></div>
    <hr>
  

<div style="position: absolute; width: 0px; height: 0px; overflow: hidden; padding: 0px; border: 0px; margin: 0px;"><div id="MathJax_Font_Test" style="position: absolute; visibility: hidden; top: 0px; left: 0px; width: auto; padding: 0px; border: 0px; margin: 0px; white-space: nowrap; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; font-size: 40px; font-weight: normal; font-style: normal; font-family: MathJax_AMS, sans-serif;"></div></div></body></html>